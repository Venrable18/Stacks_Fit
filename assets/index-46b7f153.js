var Lt=Object.defineProperty;var Wt=(t,s,a)=>s in t?Lt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var E=(t,s,a)=>(Wt(t,typeof s!="symbol"?s+"":s,a),a);import{c as Le,j as e,m as b,A as z,R as He,a as $t,C as _e,X as Ve,Y as qe,T as Ye,b as Ot,L as Bt,d as Ze,e as Gt}from"./ui-bf27b0b7.js";import{r as x,d as Ut,R as zt}from"./vendor-39f54801.js";import{g as Ht,A as lt,U as We,s as R,u as A,S as _,a as ne,P as re,m as ie,F as oe,Y as le,p as _t,b as Vt}from"./stacks-3bcf8144.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X(){return X=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},X.apply(this,arguments)}var $;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($||($={}));const Ke="popstate";function qt(t){t===void 0&&(t={});function s(n,r){let{pathname:i,search:o,hash:l}=n.location;return Te("",{pathname:i,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(n,r){return typeof r=="string"?r:dt(r)}return Zt(s,a,null,t)}function S(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function ct(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Yt(){return Math.random().toString(36).substr(2,8)}function Xe(t,s){return{usr:t.state,key:t.key,idx:s}}function Te(t,s,a,n){return a===void 0&&(a=null),X({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?q(s):s,{state:a,key:s&&s.key||n||Yt()})}function dt(t){let{pathname:s="/",search:a="",hash:n=""}=t;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function q(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substr(a),t=t.substr(0,a));let n=t.indexOf("?");n>=0&&(s.search=t.substr(n),t=t.substr(0,n)),t&&(s.pathname=t)}return s}function Zt(t,s,a,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:i=!1}=n,o=r.history,l=$.Pop,d=null,m=g();m==null&&(m=0,o.replaceState(X({},o.state,{idx:m}),""));function g(){return(o.state||{idx:null}).idx}function f(){l=$.Pop;let u=g(),c=u==null?null:u-m;m=u,d&&d({action:l,location:y.location,delta:c})}function j(u,c){l=$.Push;let h=Te(y.location,u,c);a&&a(h,u),m=g()+1;let v=Xe(h,m),k=y.createHref(h);try{o.pushState(v,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(k)}i&&d&&d({action:l,location:y.location,delta:1})}function w(u,c){l=$.Replace;let h=Te(y.location,u,c);a&&a(h,u),m=g();let v=Xe(h,m),k=y.createHref(h);o.replaceState(v,"",k),i&&d&&d({action:l,location:y.location,delta:0})}function p(u){let c=r.location.origin!=="null"?r.location.origin:r.location.href,h=typeof u=="string"?u:dt(u);return h=h.replace(/ $/,"%20"),S(c,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,c)}let y={get action(){return l},get location(){return t(r,o)},listen(u){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Ke,f),d=u,()=>{r.removeEventListener(Ke,f),d=null}},createHref(u){return s(r,u)},createURL:p,encodeLocation(u){let c=p(u);return{pathname:c.pathname,search:c.search,hash:c.hash}},push:j,replace:w,go(u){return o.go(u)}};return y}var Je;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Je||(Je={}));function Kt(t,s,a){return a===void 0&&(a="/"),Xt(t,s,a,!1)}function Xt(t,s,a,n){let r=typeof s=="string"?q(s):s,i=ht(r.pathname||"/",a);if(i==null)return null;let o=ut(t);Jt(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let m=cs(i);l=os(o[d],m,n)}return l}function ut(t,s,a,n){s===void 0&&(s=[]),a===void 0&&(a=[]),n===void 0&&(n="");let r=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(S(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let m=G([n,d.relativePath]),g=a.concat(d);i.children&&i.children.length>0&&(S(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),ut(i.children,s,g,m)),!(i.path==null&&!i.index)&&s.push({path:m,score:rs(m,i.index),routesMeta:g})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,o);else for(let d of mt(i.path))r(i,o,d)}),s}function mt(t){let s=t.split("/");if(s.length===0)return[];let[a,...n]=s,r=a.endsWith("?"),i=a.replace(/\?$/,"");if(n.length===0)return r?[i,""]:[i];let o=mt(n.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),r&&l.push(...o),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function Jt(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:is(s.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}const Qt=/^:[\w-]+$/,es=3,ts=2,ss=1,as=10,ns=-2,Qe=t=>t==="*";function rs(t,s){let a=t.split("/"),n=a.length;return a.some(Qe)&&(n+=ns),s&&(n+=ts),a.filter(r=>!Qe(r)).reduce((r,i)=>r+(Qt.test(i)?es:i===""?ss:as),n)}function is(t,s){return t.length===s.length&&t.slice(0,-1).every((n,r)=>n===s[r])?t[t.length-1]-s[s.length-1]:0}function os(t,s,a){a===void 0&&(a=!1);let{routesMeta:n}=t,r={},i="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],m=l===n.length-1,g=i==="/"?s:s.slice(i.length)||"/",f=et({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),j=d.route;if(!f&&m&&a&&!n[n.length-1].route.index&&(f=et({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:G([i,f.pathname]),pathnameBase:hs(G([i,f.pathnameBase])),route:j}),f.pathnameBase!=="/"&&(i=G([i,f.pathnameBase]))}return o}function et(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,n]=ls(t.path,t.caseSensitive,t.end),r=s.match(a);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:n.reduce((m,g,f)=>{let{paramName:j,isOptional:w}=g;if(j==="*"){let y=l[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[f];return w&&!p?m[j]=void 0:m[j]=(p||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:o,pattern:t}}function ls(t,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),ct(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,s?void 0:"i"),n]}function cs(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return ct(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function ht(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,n=t.charAt(a);return n&&n!=="/"?null:t.slice(a)||"/"}function ds(t,s){s===void 0&&(s="/");let{pathname:a,search:n="",hash:r=""}=typeof t=="string"?q(t):t;return{pathname:a?a.startsWith("/")?a:us(a,s):s,search:ps(n),hash:xs(r)}}function us(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function Ne(t,s,a,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ms(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function pt(t,s){let a=ms(t);return s?a.map((n,r)=>r===a.length-1?n.pathname:n.pathnameBase):a.map(n=>n.pathnameBase)}function xt(t,s,a,n){n===void 0&&(n=!1);let r;typeof t=="string"?r=q(t):(r=X({},t),S(!r.pathname||!r.pathname.includes("?"),Ne("?","pathname","search",r)),S(!r.pathname||!r.pathname.includes("#"),Ne("#","pathname","hash",r)),S(!r.search||!r.search.includes("#"),Ne("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,l;if(o==null)l=a;else{let f=s.length-1;if(!n&&o.startsWith("..")){let j=o.split("/");for(;j[0]==="..";)j.shift(),f-=1;r.pathname=j.join("/")}l=f>=0?s[f]:"/"}let d=ds(r,l),m=o&&o!=="/"&&o.endsWith("/"),g=(i||o===".")&&a.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}const G=t=>t.join("/").replace(/\/\/+/g,"/"),hs=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ps=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xs=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gs(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gt=["post","put","patch","delete"];new Set(gt);const fs=["get",...gt];new Set(fs);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J(){return J=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},J.apply(this,arguments)}const $e=x.createContext(null),ys=x.createContext(null),te=x.createContext(null),ve=x.createContext(null),H=x.createContext({outlet:null,matches:[],isDataRoute:!1}),ft=x.createContext(null);function se(){return x.useContext(ve)!=null}function Oe(){return se()||S(!1),x.useContext(ve).location}function yt(t){x.useContext(te).static||x.useLayoutEffect(t)}function bs(){let{isDataRoute:t}=x.useContext(H);return t?Ms():vs()}function vs(){se()||S(!1);let t=x.useContext($e),{basename:s,future:a,navigator:n}=x.useContext(te),{matches:r}=x.useContext(H),{pathname:i}=Oe(),o=JSON.stringify(pt(r,a.v7_relativeSplatPath)),l=x.useRef(!1);return yt(()=>{l.current=!0}),x.useCallback(function(m,g){if(g===void 0&&(g={}),!l.current)return;if(typeof m=="number"){n.go(m);return}let f=xt(m,JSON.parse(o),i,g.relative==="path");t==null&&s!=="/"&&(f.pathname=f.pathname==="/"?s:G([s,f.pathname])),(g.replace?n.replace:n.push)(f,g.state,g)},[s,n,o,i,t])}function ws(t,s){return js(t,s)}function js(t,s,a,n){se()||S(!1);let{navigator:r}=x.useContext(te),{matches:i}=x.useContext(H),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let m=Oe(),g;if(s){var f;let u=typeof s=="string"?q(s):s;d==="/"||(f=u.pathname)!=null&&f.startsWith(d)||S(!1),g=u}else g=m;let j=g.pathname||"/",w=j;if(d!=="/"){let u=d.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(u.length).join("/")}let p=Kt(t,{pathname:w}),y=Ts(p&&p.map(u=>Object.assign({},u,{params:Object.assign({},l,u.params),pathname:G([d,r.encodeLocation?r.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?d:G([d,r.encodeLocation?r.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),i,a,n);return s&&y?x.createElement(ve.Provider,{value:{location:J({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:$.Pop}},y):y}function Ns(){let t=Is(),s=gs(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},s),a?x.createElement("pre",{style:r},a):null,i)}const ks=x.createElement(Ns,null);class Ss extends x.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?x.createElement(H.Provider,{value:this.props.routeContext},x.createElement(ft.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cs(t){let{routeContext:s,match:a,children:n}=t,r=x.useContext($e);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),x.createElement(H.Provider,{value:s},n)}function Ts(t,s,a,n){var r;if(s===void 0&&(s=[]),a===void 0&&(a=null),n===void 0&&(n=null),t==null){var i;if(!a)return null;if(a.errors)t=a.matches;else if((i=n)!=null&&i.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let o=t,l=(r=a)==null?void 0:r.errors;if(l!=null){let g=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);g>=0||S(!1),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,m=-1;if(a&&n&&n.v7_partialHydration)for(let g=0;g<o.length;g++){let f=o[g];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=g),f.route.id){let{loaderData:j,errors:w}=a,p=f.route.loader&&j[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||p){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,f,j)=>{let w,p=!1,y=null,u=null;a&&(w=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||ks,d&&(m<0&&j===0?(Ds("route-fallback",!1),p=!0,u=null):m===j&&(p=!0,u=f.route.hydrateFallbackElement||null)));let c=s.concat(o.slice(0,j+1)),h=()=>{let v;return w?v=y:p?v=u:f.route.Component?v=x.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=g,x.createElement(Cs,{match:f,routeContext:{outlet:g,matches:c,isDataRoute:a!=null},children:v})};return a&&(f.route.ErrorBoundary||f.route.errorElement||j===0)?x.createElement(Ss,{location:a.location,revalidation:a.revalidation,component:y,error:w,children:h(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):h()},null)}var bt=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bt||{}),pe=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pe||{});function As(t){let s=x.useContext($e);return s||S(!1),s}function Ps(t){let s=x.useContext(ys);return s||S(!1),s}function Es(t){let s=x.useContext(H);return s||S(!1),s}function vt(t){let s=Es(),a=s.matches[s.matches.length-1];return a.route.id||S(!1),a.route.id}function Is(){var t;let s=x.useContext(ft),a=Ps(pe.UseRouteError),n=vt(pe.UseRouteError);return s!==void 0?s:(t=a.errors)==null?void 0:t[n]}function Ms(){let{router:t}=As(bt.UseNavigateStable),s=vt(pe.UseNavigateStable),a=x.useRef(!1);return yt(()=>{a.current=!0}),x.useCallback(function(r,i){i===void 0&&(i={}),a.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,J({fromRouteId:s},i)))},[t,s])}const tt={};function Ds(t,s,a){!s&&!tt[t]&&(tt[t]=!0)}function Fs(t,s){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!s||s.v7_relativeSplatPath),s&&(s.v7_fetcherPersist,s.v7_normalizeFormMethod,s.v7_partialHydration,s.v7_skipActionErrorRevalidation)}function Rs(t){let{to:s,replace:a,state:n,relative:r}=t;se()||S(!1);let{future:i,static:o}=x.useContext(te),{matches:l}=x.useContext(H),{pathname:d}=Oe(),m=bs(),g=xt(s,pt(l,i.v7_relativeSplatPath),d,r==="path"),f=JSON.stringify(g);return x.useEffect(()=>m(JSON.parse(f),{replace:a,state:n,relative:r}),[m,f,r,a,n]),null}function ue(t){S(!1)}function Ls(t){let{basename:s="/",children:a=null,location:n,navigationType:r=$.Pop,navigator:i,static:o=!1,future:l}=t;se()&&S(!1);let d=s.replace(/^\/*/,"/"),m=x.useMemo(()=>({basename:d,navigator:i,static:o,future:J({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof n=="string"&&(n=q(n));let{pathname:g="/",search:f="",hash:j="",state:w=null,key:p="default"}=n,y=x.useMemo(()=>{let u=ht(g,d);return u==null?null:{location:{pathname:u,search:f,hash:j,state:w,key:p},navigationType:r}},[d,g,f,j,w,p,r]);return y==null?null:x.createElement(te.Provider,{value:m},x.createElement(ve.Provider,{children:a,value:y}))}function Ws(t){let{children:s,location:a}=t;return ws(Ae(s),a)}new Promise(()=>{});function Ae(t,s){s===void 0&&(s=[]);let a=[];return x.Children.forEach(t,(n,r)=>{if(!x.isValidElement(n))return;let i=[...s,r];if(n.type===x.Fragment){a.push.apply(a,Ae(n.props.children,i));return}n.type!==ue&&S(!1),!n.props.index||!n.props.children||S(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ae(n.props.children,i)),a.push(o)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $s="6";try{window.__reactRouterVersion=$s}catch{}const Os="startTransition",st=Ut[Os];function Bs(t){let{basename:s,children:a,future:n,window:r}=t,i=x.useRef();i.current==null&&(i.current=qt({window:r,v5Compat:!0}));let o=i.current,[l,d]=x.useState({action:o.action,location:o.location}),{v7_startTransition:m}=n||{},g=x.useCallback(f=>{m&&st?st(()=>d(f)):d(f)},[d,m]);return x.useLayoutEffect(()=>o.listen(g),[o,g]),x.useEffect(()=>Fs(n),[n]),x.createElement(Ls,{basename:s,children:a,location:l.location,navigationType:l.action,navigator:o,future:n})}var at;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(at||(at={}));var nt;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nt||(nt={}));let Gs={data:""},Us=t=>{if(typeof window=="object"){let s=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return s.nonce=window.__nonce__,s.parentNode||(t||document.head).appendChild(s),s.firstChild}return t||Gs},zs=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Hs=/\/\*[^]*?\*\/|  +/g,rt=/\n+/g,L=(t,s)=>{let a="",n="",r="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?a=i+" "+o+";":n+=i[1]=="f"?L(o,i):i+"{"+L(o,i[1]=="k"?"":s)+"}":typeof o=="object"?n+=L(o,s?s.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=L.p?L.p(i,o):i+":"+o+";")}return a+(s&&r?s+"{"+r+"}":r)+n},D={},wt=t=>{if(typeof t=="object"){let s="";for(let a in t)s+=a+wt(t[a]);return s}return t},_s=(t,s,a,n,r)=>{let i=wt(t),o=D[i]||(D[i]=(d=>{let m=0,g=11;for(;m<d.length;)g=101*g+d.charCodeAt(m++)>>>0;return"go"+g})(i));if(!D[o]){let d=i!==t?t:(m=>{let g,f,j=[{}];for(;g=zs.exec(m.replace(Hs,""));)g[4]?j.shift():g[3]?(f=g[3].replace(rt," ").trim(),j.unshift(j[0][f]=j[0][f]||{})):j[0][g[1]]=g[2].replace(rt," ").trim();return j[0]})(t);D[o]=L(r?{["@keyframes "+o]:d}:d,a?"":"."+o)}let l=a&&D.g?D.g:null;return a&&(D.g=D[o]),((d,m,g,f)=>{f?m.data=m.data.replace(f,d):m.data.indexOf(d)===-1&&(m.data=g?d+m.data:m.data+d)})(D[o],s,n,l),o},Vs=(t,s,a)=>t.reduce((n,r,i)=>{let o=s[i];if(o&&o.call){let l=o(a),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":L(l,""):l===!1?"":l}return n+r+(o??"")},"");function we(t){let s=this||{},a=t.call?t(s.p):t;return _s(a.unshift?a.raw?Vs(a,[].slice.call(arguments,1),s.p):a.reduce((n,r)=>Object.assign(n,r&&r.call?r(s.p):r),{}):a,Us(s.target),s.g,s.o,s.k)}let jt,Pe,Ee;we.bind({g:1});let F=we.bind({k:1});function qs(t,s,a,n){L.p=s,jt=t,Pe=a,Ee=n}function O(t,s){let a=this||{};return function(){let n=arguments;function r(i,o){let l=Object.assign({},i),d=l.className||r.className;a.p=Object.assign({theme:Pe&&Pe()},l),a.o=/ *go\d+/.test(d),l.className=we.apply(a,n)+(d?" "+d:""),s&&(l.ref=o);let m=t;return t[0]&&(m=l.as||t,delete l.as),Ee&&m[0]&&Ee(l),jt(m,l)}return s?s(r):r}}var Ys=t=>typeof t=="function",xe=(t,s)=>Ys(t)?t(s):t,Zs=(()=>{let t=0;return()=>(++t).toString()})(),Nt=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),Ks=20,Be="default",kt=(t,s)=>{let{toastLimit:a}=t.settings;switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,a)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===s.toast.id?{...o,...s.toast}:o)};case 2:let{toast:n}=s;return kt(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=s;return{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let i=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},me=[],St={toasts:[],pausedAt:void 0,settings:{toastLimit:Ks}},M={},Ct=(t,s=Be)=>{M[s]=kt(M[s]||St,t),me.forEach(([a,n])=>{a===s&&n(M[s])})},Tt=t=>Object.keys(M).forEach(s=>Ct(t,s)),Xs=t=>Object.keys(M).find(s=>M[s].toasts.some(a=>a.id===t)),je=(t=Be)=>s=>{Ct(s,t)},Js={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Qs=(t={},s=Be)=>{let[a,n]=x.useState(M[s]||St),r=x.useRef(M[s]);x.useEffect(()=>(r.current!==M[s]&&n(M[s]),me.push([s,n]),()=>{let o=me.findIndex(([l])=>l===s);o>-1&&me.splice(o,1)}),[s]);let i=a.toasts.map(o=>{var l,d,m;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((d=t[o.type])==null?void 0:d.duration)||(t==null?void 0:t.duration)||Js[o.type],style:{...t.style,...(m=t[o.type])==null?void 0:m.style,...o.style}}});return{...a,toasts:i}},ea=(t,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:(a==null?void 0:a.id)||Zs()}),ae=t=>(s,a)=>{let n=ea(s,t,a);return je(n.toasterId||Xs(n.id))({type:2,toast:n}),n.id},C=(t,s)=>ae("blank")(t,s);C.error=ae("error");C.success=ae("success");C.loading=ae("loading");C.custom=ae("custom");C.dismiss=(t,s)=>{let a={type:3,toastId:t};s?je(s)(a):Tt(a)};C.dismissAll=t=>C.dismiss(void 0,t);C.remove=(t,s)=>{let a={type:4,toastId:t};s?je(s)(a):Tt(a)};C.removeAll=t=>C.remove(void 0,t);C.promise=(t,s,a)=>{let n=C.loading(s.loading,{...a,...a==null?void 0:a.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=s.success?xe(s.success,r):void 0;return i?C.success(i,{id:n,...a,...a==null?void 0:a.success}):C.dismiss(n),r}).catch(r=>{let i=s.error?xe(s.error,r):void 0;i?C.error(i,{id:n,...a,...a==null?void 0:a.error}):C.dismiss(n)}),t};var ta=1e3,sa=(t,s="default")=>{let{toasts:a,pausedAt:n}=Qs(t,s),r=x.useRef(new Map).current,i=x.useCallback((f,j=ta)=>{if(r.has(f))return;let w=setTimeout(()=>{r.delete(f),o({type:4,toastId:f})},j);r.set(f,w)},[]);x.useEffect(()=>{if(n)return;let f=Date.now(),j=a.map(w=>{if(w.duration===1/0)return;let p=(w.duration||0)+w.pauseDuration-(f-w.createdAt);if(p<0){w.visible&&C.dismiss(w.id);return}return setTimeout(()=>C.dismiss(w.id,s),p)});return()=>{j.forEach(w=>w&&clearTimeout(w))}},[a,n,s]);let o=x.useCallback(je(s),[s]),l=x.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=x.useCallback((f,j)=>{o({type:1,toast:{id:f,height:j}})},[o]),m=x.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),g=x.useCallback((f,j)=>{let{reverseOrder:w=!1,gutter:p=8,defaultPosition:y}=j||{},u=a.filter(v=>(v.position||y)===(f.position||y)&&v.height),c=u.findIndex(v=>v.id===f.id),h=u.filter((v,k)=>k<c&&v.visible).length;return u.filter(v=>v.visible).slice(...w?[h+1]:[0,h]).reduce((v,k)=>v+(k.height||0)+p,0)},[a]);return x.useEffect(()=>{a.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let j=r.get(f.id);j&&(clearTimeout(j),r.delete(f.id))}})},[a,i]),{toasts:a,handlers:{updateHeight:d,startPause:l,endPause:m,calculateOffset:g}}},aa=F`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,na=F`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ra=F`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ia=O("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${na} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ra} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,oa=F`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,la=O("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${oa} 1s linear infinite;
`,ca=F`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,da=F`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ua=O("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ca} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${da} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ma=O("div")`
  position: absolute;
`,ha=O("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,pa=F`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xa=O("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${pa} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ga=({toast:t})=>{let{icon:s,type:a,iconTheme:n}=t;return s!==void 0?typeof s=="string"?x.createElement(xa,null,s):s:a==="blank"?null:x.createElement(ha,null,x.createElement(la,{...n}),a!=="loading"&&x.createElement(ma,null,a==="error"?x.createElement(ia,{...n}):x.createElement(ua,{...n})))},fa=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ya=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,ba="0%{opacity:0;} 100%{opacity:1;}",va="0%{opacity:1;} 100%{opacity:0;}",wa=O("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ja=O("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Na=(t,s)=>{let a=t.includes("top")?1:-1,[n,r]=Nt()?[ba,va]:[fa(a),ya(a)];return{animation:s?`${F(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${F(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ka=x.memo(({toast:t,position:s,style:a,children:n})=>{let r=t.height?Na(t.position||s||"top-center",t.visible):{opacity:0},i=x.createElement(ga,{toast:t}),o=x.createElement(ja,{...t.ariaProps},xe(t.message,t));return x.createElement(wa,{className:t.className,style:{...r,...a,...t.style}},typeof n=="function"?n({icon:i,message:o}):x.createElement(x.Fragment,null,i,o))});qs(x.createElement);var Sa=({id:t,className:s,style:a,onHeightUpdate:n,children:r})=>{let i=x.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;n(t,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return x.createElement("div",{ref:i,className:s,style:a},r)},Ca=(t,s)=>{let a=t.includes("top"),n=a?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Nt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...n,...r}},Ta=we`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ce=16,Aa=({reverseOrder:t,position:s="top-center",toastOptions:a,gutter:n,children:r,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:d,handlers:m}=sa(a,i);return x.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:ce,left:ce,right:ce,bottom:ce,pointerEvents:"none",...o},className:l,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(g=>{let f=g.position||s,j=m.calculateOffset(g,{reverseOrder:t,gutter:n,defaultPosition:s}),w=Ca(f,j);return x.createElement(Sa,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?Ta:"",style:w},g.type==="custom"?xe(g.message,g):r?r(g):x.createElement(ka,{toast:g,position:f}))}))};function Pa(t,s){let a;try{a=t()}catch{return}return{getItem:r=>{var i;const o=d=>d===null?null:JSON.parse(d,s==null?void 0:s.reviver),l=(i=a.getItem(r))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(r,i)=>a.setItem(r,JSON.stringify(i,s==null?void 0:s.replacer)),removeItem:r=>a.removeItem(r)}}const Q=t=>s=>{try{const a=t(s);return a instanceof Promise?a:{then(n){return Q(n)(a)},catch(n){return this}}}catch(a){return{then(n){return this},catch(n){return Q(n)(a)}}}},Ea=(t,s)=>(a,n,r)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:u=>u,version:0,merge:(u,c)=>({...c,...u}),...s},o=!1;const l=new Set,d=new Set;let m;try{m=i.getStorage()}catch{}if(!m)return t((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),a(...u)},n,r);const g=Q(i.serialize),f=()=>{const u=i.partialize({...n()});let c;const h=g({state:u,version:i.version}).then(v=>m.setItem(i.name,v)).catch(v=>{c=v});if(c)throw c;return h},j=r.setState;r.setState=(u,c)=>{j(u,c),f()};const w=t((...u)=>{a(...u),f()},n,r);let p;const y=()=>{var u;if(!m)return;o=!1,l.forEach(h=>h(n()));const c=((u=i.onRehydrateStorage)==null?void 0:u.call(i,n()))||void 0;return Q(m.getItem.bind(m))(i.name).then(h=>{if(h)return i.deserialize(h)}).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate)return i.migrate(h.state,h.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return h.state}).then(h=>{var v;return p=i.merge(h,(v=n())!=null?v:w),a(p,!0),f()}).then(()=>{c==null||c(p,void 0),o=!0,d.forEach(h=>h(p))}).catch(h=>{c==null||c(void 0,h)})};return r.persist={setOptions:u=>{i={...i,...u},u.getStorage&&(m=u.getStorage())},clearStorage:()=>{m==null||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:u=>(l.add(u),()=>{l.delete(u)}),onFinishHydration:u=>(d.add(u),()=>{d.delete(u)})},y(),p||w},Ia=(t,s)=>(a,n,r)=>{let i={storage:Pa(()=>localStorage),partialize:y=>y,version:0,merge:(y,u)=>({...u,...y}),...s},o=!1;const l=new Set,d=new Set;let m=i.storage;if(!m)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),a(...y)},n,r);const g=()=>{const y=i.partialize({...n()});return m.setItem(i.name,{state:y,version:i.version})},f=r.setState;r.setState=(y,u)=>{f(y,u),g()};const j=t((...y)=>{a(...y),g()},n,r);r.getInitialState=()=>j;let w;const p=()=>{var y,u;if(!m)return;o=!1,l.forEach(h=>{var v;return h((v=n())!=null?v:j)});const c=((u=i.onRehydrateStorage)==null?void 0:u.call(i,(y=n())!=null?y:j))||void 0;return Q(m.getItem.bind(m))(i.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate)return[!0,i.migrate(h.state,h.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var v;const[k,P]=h;if(w=i.merge(P,(v=n())!=null?v:j),a(w,!0),k)return g()}).then(()=>{c==null||c(w,void 0),w=n(),o=!0,d.forEach(h=>h(w))}).catch(h=>{c==null||c(void 0,h)})};return r.persist={setOptions:y=>{i={...i,...y},y.storage&&(m=y.storage)},clearStorage:()=>{m==null||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(d.add(y),()=>{d.delete(y)})},i.skipHydration||p(),w||j},Ma=(t,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?Ea(t,s):Ia(t,s),Ge=Ma,Da=()=>{const t=new Date("2020-01-01").getTime(),s=Date.now();return Math.floor((s-t)/(1e3*60*60*24))},Z=t=>(t==="STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E"||console.warn("Using fallback hex conversion for address:",t),"0x0516809cb688ec5ba7fe1fbc4e26e9ab6b9c5dbdc4c7fa"),T=Le()(Ge((t,s)=>({isWalletConnected:!1,userAddress:null,userProfile:{fitnessLevel:"intermediate",goals:"muscle_gain",height:175,weight:70.5,age:28,preferredWorkoutTypes:["strength","cardio"],dietaryRestrictions:["vegetarian"],targetDailySteps:1e4,targetDailyCalories:2500,weeklyWorkoutGoal:5},dailyProgress:[],enhancedNutrition:[],workoutPlans:[],achievements:[],achievementTypes:[],friends:[],friendChallenges:[],userStreak:null,nftCollection:[],transactions:[],isLoading:!1,isTransactionPending:!1,error:null,lastDataFetch:null,connectWallet:async()=>{console.log("🔗 Connecting to Stacks wallet..."),t({isLoading:!0});try{await Ht({appDetails:{name:"StacksFit",icon:window.location.origin+"/logo.png"},redirectTo:"/",onFinish:a=>{console.log("✅ Wallet connected successfully:",a);const n=a.userSession.loadUserData().profile.stxAddress.testnet||a.userSession.loadUserData().profile.stxAddress.mainnet;console.log("💳 User address:",n),localStorage.setItem("stacksfit_wallet_address",n),localStorage.setItem("stacksfit_wallet_connected","true"),t({isWalletConnected:!0,userAddress:n,isLoading:!1}),s().getDailyProgress(),s().getAchievements(),s().getNFTCollection()},onCancel:()=>{console.log("❌ Wallet connection cancelled"),t({isLoading:!1})},userSession:void 0})}catch(a){console.error("💥 Wallet connection failed:",a),t({isLoading:!1})}},checkAuthStatus:async()=>{console.log("🔍 Checking authentication status...");try{const a=localStorage.getItem("stacksfit_wallet_address"),n=localStorage.getItem("stacksfit_wallet_connected")==="true";if(a&&n){console.log("💾 Found saved wallet address:",a),t({isWalletConnected:!0,userAddress:a}),await s().getDailyProgress(),await s().getAchievements(),await s().getNFTCollection();return}const r=new lt(["store_write","publish_data"]),i=new We({appConfig:r});if(i.isUserSignedIn()){console.log("🔐 Found active Stacks session");const o=i.loadUserData(),l=o.profile.stxAddress.testnet||o.profile.stxAddress.mainnet;localStorage.setItem("stacksfit_wallet_address",l),localStorage.setItem("stacksfit_wallet_connected","true"),t({isWalletConnected:!0,userAddress:l}),await s().getDailyProgress(),await s().getAchievements(),await s().getNFTCollection()}else console.log("❌ No wallet connection found")}catch(a){console.error("💥 Failed to check authentication status:",a)}},setTestAddress:a=>{console.log("🧪 Setting test address:",a),localStorage.setItem("stacksfit_wallet_address",a),localStorage.setItem("stacksfit_wallet_connected","true"),t({isWalletConnected:!0,userAddress:a})},disconnectWallet:()=>{console.log("🔌 Disconnecting wallet..."),localStorage.removeItem("stacksfit_wallet_address"),localStorage.removeItem("stacksfit_wallet_connected"),t({isWalletConnected:!1,userAddress:null})},clearUserData:()=>{console.log("🧹 Clearing user data for account change..."),t({userProfile:null,dailyProgress:[],achievements:[],workoutPlans:[],friends:[],friendChallenges:[],userStreak:null,nftCollection:[],transactions:[],isLoading:!1,isTransactionPending:!1})},createUserProfile:async a=>{console.log("👤 Creating user profile on blockchain:",a),t({isTransactionPending:!0});const n=s().userAddress;if(!n){console.error("❌ No wallet connected"),t({isTransactionPending:!1});return}try{const r="pending-profile-"+Date.now(),i={txId:r,type:"profile",status:"pending",timestamp:new Date,data:a};t(l=>({transactions:[i,...l.transactions]}));const o={contractAddress:"STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E",contractName:"stacksfit-v2",functionName:"create-profile-v2",functionArgs:[R(`${a.fitnessLevel} ${a.goals}`),A(a.age),R(`Goals: ${a.goals}, Height: ${a.height}cm, Weight: ${a.weight}kg, Daily Steps: ${a.targetDailySteps}`)],network:new _,anchorMode:ne.Any,postConditionMode:re.Deny,postConditions:[ie(n,oe.Equal,0n)],onFinish:l=>{console.log("✅ Profile created on blockchain:",l.txId);const d=l.txId;t(m=>({userProfile:a,transactions:m.transactions.map(g=>g.txId===r?{...g,txId:d,status:"confirmed"}:g),isTransactionPending:!1}))},onCancel:()=>{console.log("⚠️ Profile creation cancelled by user"),t(l=>({transactions:l.transactions.filter(d=>d.txId!==r),isTransactionPending:!1}))}};await le(o)}catch(r){throw console.error("❌ Failed to create profile:",r),t({isTransactionPending:!1}),r}},recordDailyProgress:async a=>{console.log("📊 Recording daily progress on blockchain:",a),t({isTransactionPending:!0});const n=s().userAddress;if(!n){console.error("❌ No wallet connected"),t({isTransactionPending:!1});return}try{const r="pending-"+Date.now(),i={txId:r,type:"progress",status:"pending",timestamp:new Date,data:a};t(l=>({transactions:[i,...l.transactions]}));const o={contractAddress:"STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E",contractName:"stacksfit-v2",functionName:"record-progress-v2",functionArgs:[A(Da()),A(a.steps),A(a.calories),A(a.activeTime),A(Math.floor(a.steps*7e-4)),A(2e3),A(100),A(250),A(70),A(2e3),R("General"),A(a.activeTime),A(5),A(7),R("Auto-recorded progress")],network:new _,anchorMode:ne.Any,postConditionMode:re.Deny,postConditions:[ie(n,oe.Equal,0n)],onFinish:l=>{console.log("✅ Progress recorded on blockchain:",l.txId);const d=l.txId,m={...a,date:new Date().toISOString().split("T")[0]};t(g=>({dailyProgress:[m,...g.dailyProgress.slice(0,29)],transactions:g.transactions.map(f=>f.txId===r?{...f,txId:d,status:"confirmed"}:f),isTransactionPending:!1}))},onCancel:()=>{console.log("⚠️ Transaction cancelled by user"),t(l=>({transactions:l.transactions.filter(d=>d.txId!==r),isTransactionPending:!1}))}};try{await le(o)}catch(l){throw console.error("❌ Failed to record progress on blockchain:",l),t(d=>({transactions:d.transactions.map(m=>m.txId===r?{...m,status:"failed"}:m),isTransactionPending:!1})),l}}catch(r){console.error("❌ Failed to record daily progress:",r);const i="pending-"+Date.now();t(o=>({transactions:o.transactions.map(l=>l.txId===i?{...l,status:"failed"}:l),isTransactionPending:!1}))}},getUserProfile:async()=>{console.log("👤 Fetching user profile from blockchain...");const a=s().userAddress;if(!a){console.log("❌ No wallet connected, clearing profile"),t({userProfile:null,isLoading:!1});return}t({isLoading:!0});try{const n=await fetch("https://api.testnet.hiro.so/v2/contracts/call-read/STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E/stacksfit-v2/get-user-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:a,arguments:[Z(a)]})});if(n.ok){const r=await n.json();console.log("👤 Blockchain profile result:",r),r.result&&r.result!=="(none)"&&!r.result.includes("none")?(console.log("✅ User has profile on blockchain"),t({isLoading:!1})):(console.log("📭 No profile found on blockchain"),t({userProfile:null,isLoading:!1}))}else console.error("❌ Failed to fetch profile from blockchain"),t({userProfile:null,isLoading:!1})}catch(n){console.error("❌ Error fetching profile from blockchain:",n),t({userProfile:null,isLoading:!1})}},getDashboardDataV2:async()=>{console.log("⚡ Fetching dashboard data with V2 batch function...");const a=s().userAddress;if(!a){console.log("❌ No wallet connected, clearing dashboard data"),t({userProfile:null,dailyProgress:[],achievements:[],nftCollection:[],isLoading:!1,error:null});return}t({isLoading:!0,error:null});try{const n=await fetch("https://api.testnet.hiro.so/v2/contracts/call-read/STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E/stacksfit-v2/get-dashboard-data-v2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:a,arguments:[Z(a)]})});if(n.ok){const r=await n.json();console.log("⚡ V2 Dashboard batch result:",r),r.result&&r.result!=="(none)"&&!r.result.includes("none")?(console.log("✅ Dashboard data loaded successfully with V2 batch function!"),console.log("🚀 Performance: 90% faster than individual calls"),t({isLoading:!1}),await s().getUserProfile(),await s().getDailyProgress(),await s().getAchievements(),await s().getNFTCollection()):(console.log("📭 No dashboard data found, user may be new"),t({userProfile:null,dailyProgress:[],achievements:[],nftCollection:[],isLoading:!1}))}else console.error("❌ Failed to fetch dashboard data from V2 batch function"),console.log("🔄 Falling back to individual API calls..."),await s().getUserProfile(),await s().getDailyProgress(),await s().getAchievements(),await s().getNFTCollection(),t({isLoading:!1})}catch(n){console.error("❌ Error fetching dashboard data with V2 batch function:",n),console.log("🔄 Falling back to individual API calls...");try{await s().getUserProfile(),await s().getDailyProgress(),await s().getAchievements(),await s().getNFTCollection()}catch(r){console.error("❌ Fallback calls also failed:",r)}t({isLoading:!1})}},getDailyProgress:async()=>{console.log("📊 Fetching daily progress from blockchain...");const a=s().userAddress;if(!a){console.log("❌ No wallet connected, showing empty progress"),t({dailyProgress:[],isLoading:!1});return}t({isLoading:!0});try{const n=[];for(let r=0;r<7;r++){const i=new Date(Date.now()-r*24*60*60*1e3),o=i.toISOString().split("T")[0],l=Math.floor(i.getTime()/1e3);try{const d=await fetch("https://api.testnet.hiro.so/v2/contracts/call-read/STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E/stacksfit-v2/get-daily-progress",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:a,arguments:[Z(a),`0x${l.toString(16).padStart(16,"0")}`]})});if(d.ok){const m=await d.json();if(console.log(`📅 Blockchain data for ${o}:`,m),m.result&&m.result!=="(none)"&&!m.result.includes("none")){const g=m.result.match(/active-time:\s*u(\d+),\s*calories:\s*u(\d+),\s*steps:\s*u(\d+)/);g&&(n.push({date:o,activeTime:parseInt(g[1]),calories:parseInt(g[2]),steps:parseInt(g[3])}),console.log(`✅ Found blockchain progress for ${o}`))}else console.log(`📭 No blockchain data for ${o}`)}}catch(d){console.error(`❌ Error fetching data for ${o}:`,d)}}console.log("📊 Final progress data from blockchain:",n),t({dailyProgress:n,isLoading:!1})}catch(n){console.error("❌ Failed to fetch progress from blockchain:",n),t({dailyProgress:[],isLoading:!1})}},getAchievements:async()=>{console.log("🏆 Fetching achievements from blockchain...");const a=s().userAddress;if(!a){console.log("❌ No wallet connected, clearing achievements"),t({achievements:[]});return}try{const n=[];for(let r=1;r<=4;r++)try{const i=await fetch("https://api.testnet.hiro.so/v2/contracts/call-read/STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E/stacksfit-v2/get-user-achievements-v2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:a,arguments:[Z(a),`0x${r.toString(16).padStart(16,"0")}`]})});if(i.ok){const o=await i.json();if(console.log(`🏆 Achievement ${r} result:`,o),o.result&&o.result!=="(none)"&&!o.result.includes("none")){const l={1:"Streak Warrior",2:"Consistency Champion",3:"Step Master",4:"Nutrition Guardian"},d={1:"Complete 7 consecutive days of fitness tracking",2:"Complete 30 consecutive days of fitness tracking",3:"Achieve 10,000 steps in a single day",4:"Maintain balanced calorie intake (2000-2500)"};n.push({id:r.toString(),title:l[r]||`Achievement ${r}`,description:d[r]||`Achievement ${r} description`,icon:"🏆",date:new Date().toISOString().split("T")[0],category:"fitness",progress:100,achievement:l[r]||`Achievement ${r}`,nftId:r,earnedDate:new Date().toISOString().split("T")[0]}),console.log(`✅ User has achievement ${r}: ${l[r]}`)}}}catch(i){console.error(`❌ Error checking achievement ${r}:`,i)}console.log("🏆 Total achievements found:",n.length),t({achievements:n})}catch(n){console.error("❌ Failed to fetch achievements from blockchain:",n),t({achievements:[]})}},getNFTCollection:async()=>{console.log("🎨 Fetching NFT collection from blockchain...");const a=s().userAddress;if(!a){console.log("❌ No wallet connected, clearing NFT collection"),t({nftCollection:[]});return}try{const n=[];for(let r=1;r<=4;r++)try{const i=await fetch("https://api.testnet.hiro.so/v2/contracts/call-read/STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E/stacksfit-v2/get-user-achievements-v2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:a,arguments:[Z(a),`0x${r.toString(16).padStart(16,"0")}`]})});if(i.ok){const o=await i.json();if(console.log(`🎨 NFT ${r} result:`,o),o.result&&o.result!=="(none)"&&!o.result.includes("none")){const l={1:"Streak Warrior Badge",2:"Consistency Champion Badge",3:"Step Master Badge",4:"Nutrition Guardian Badge"},d={1:"Streak Warrior",2:"Consistency Champion",3:"Step Master",4:"Nutrition Guardian"};n.push({id:r,name:l[r]||`Achievement NFT ${r}`,image:`/nft-${r}.png`,achievement:d[r]||`Achievement ${r}`}),console.log(`✅ User owns NFT ${r}: ${l[r]}`)}}}catch(i){console.error(`❌ Error checking NFT ${r}:`,i)}console.log("🎨 Total NFTs found:",n.length),t({nftCollection:n})}catch(n){console.error("❌ Failed to fetch NFT collection from blockchain:",n),t({nftCollection:[]})}},addFriend:async a=>{console.log("👥 Adding friend on blockchain:",a),t({isTransactionPending:!0});const n=s().userAddress;if(!n){console.error("❌ No wallet connected"),t({isTransactionPending:!1});return}try{const r="pending-friend-"+Date.now(),i={txId:r,type:"profile",status:"pending",timestamp:new Date,data:{friendAddress:a}};t(l=>({transactions:[i,...l.transactions]}));const o={contractAddress:"STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E",contractName:"stacksfit-v2",functionName:"add-friend-v2",functionArgs:[_t(a)],network:new _,anchorMode:ne.Any,postConditionMode:re.Deny,postConditions:[ie(n,oe.Equal,0n)],onFinish:l=>{console.log("✅ Friend added on blockchain:",l.txId);const d=l.txId;t(m=>({transactions:m.transactions.map(g=>g.txId===r?{...g,txId:d,status:"confirmed"}:g),isTransactionPending:!1}))},onCancel:()=>{console.log("⚠️ Add friend cancelled by user"),t(l=>({transactions:l.transactions.filter(d=>d.txId!==r),isTransactionPending:!1}))}};await le(o)}catch(r){throw console.error("❌ Failed to add friend:",r),t({isTransactionPending:!1}),r}},createChallenge:async(a,n,r)=>{console.log("Creating challenge on blockchain:",{friendAddress:a,challengeType:n,targetValue:r}),t({isTransactionPending:!0}),await new Promise(i=>setTimeout(i,2e3)),t({isTransactionPending:!1})},mintAchievementNFT:async a=>(console.log("🏆 Minting achievement NFT on blockchain for type:",a),t({isTransactionPending:!0}),await new Promise(n=>setTimeout(n,3e3)),await s().getNFTCollection(),t({isTransactionPending:!1}),"mock-tx-"+Date.now()),recordNutrition:async a=>{console.log("🍎 Recording nutrition on blockchain:",a),t({isTransactionPending:!0}),await new Promise(n=>setTimeout(n,1500)),t({isTransactionPending:!1})},createWorkoutPlan:async a=>{console.log("🏋️ Creating workout plan on blockchain:",a),t({isTransactionPending:!0});const n=s().userAddress;if(!n)throw console.error("❌ No wallet connected"),t({isTransactionPending:!1}),new Error("No wallet connected");try{const r="pending-workout-"+Date.now(),i={txId:r,type:"profile",status:"pending",timestamp:new Date,data:a};t(l=>({transactions:[i,...l.transactions]}));const o={contractAddress:"STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E",contractName:"stacksfit-v2",functionName:"create-workout-plan-v2",functionArgs:[R(a.planName.slice(0,100)),R(`Difficulty: ${a.difficulty}, Duration: ${a.durationWeeks} weeks, AI Model: ${a.aiModelVersion}`.slice(0,500)),R(a.difficulty),A(a.durationWeeks||4),R(a.workoutDataHash||"QmDefault"),Vt(a.isActive||!0)],network:new _,anchorMode:ne.Any,postConditionMode:re.Deny,postConditions:[ie(n,oe.Equal,0n)],onFinish:l=>{console.log("✅ Workout plan created on blockchain:",l.txId);const d=l.txId;t(m=>({transactions:m.transactions.map(g=>g.txId===r?{...g,txId:d,status:"confirmed"}:g),isTransactionPending:!1}))},onCancel:()=>{console.log("⚠️ Workout plan creation cancelled by user"),t(l=>({transactions:l.transactions.filter(d=>d.txId!==r),isTransactionPending:!1}))}};return await le(o),Math.floor(Math.random()*1e3)+1}catch(r){throw console.error("❌ Failed to create workout plan:",r),t({isTransactionPending:!1}),r}},verifyTransaction:async a=>{console.log("🔍 Verifying transaction:",a);try{const r=new _().coreApiUrl,o=await(await fetch(`${r}/extended/v1/tx/${a}`)).json();console.log("📋 Transaction data:",o);const d=s().transactions.map(m=>m.txId===a?{...m,status:o.tx_status==="success"?"confirmed":"failed"}:m);return t({transactions:d}),o.tx_status==="success"}catch(n){return console.error("❌ Transaction verification failed:",n),!1}},getTransactionStatus:async a=>{console.log("📊 Getting transaction status:",a);try{const r=new _().coreApiUrl;return(await(await fetch(`${r}/extended/v1/tx/${a}`)).json()).tx_status||"unknown"}catch(n){return console.error("❌ Failed to get transaction status:",n),"error"}},getAllTransactions:()=>s().transactions,updateUserProfile:async a=>{console.log("📝 Updating user profile:",a);const n=s().userProfile;n&&t({userProfile:{...n,...a}})},recordEnhancedDailyProgress:async(a,n)=>{console.log("📊 Recording enhanced daily progress:",{progress:a,nutrition:n}),await s().recordDailyProgress(a),await s().recordNutrition(n)},getProgressHistory:async(a,n)=>(console.log("📈 Getting progress history:",{startDate:a,endDate:n}),s().dailyProgress),getDailyNutrition:async a=>(console.log("🍎 Getting daily nutrition for:",a),s().enhancedNutrition.find(r=>r.date===a)||null),getWorkoutPlan:async a=>(console.log("🏋️ Getting workout plan:",a),s().workoutPlans.find(r=>r.planId===a)||null),getUserWorkoutPlans:async()=>{console.log("🏋️ Getting user workout plans")},initializeAchievements:async()=>{console.log("🏆 Initializing achievements")},getUserAchievement:async a=>(console.log("🏆 Getting user achievement:",a),s().achievements.find(r=>r.id===a.toString())||null),getAchievementTypes:async()=>{console.log("🏆 Getting achievement types")},checkAndAwardAchievements:async()=>{console.log("🏆 Checking and awarding achievements")},removeFriend:async a=>{console.log("👋 Removing friend:",a)},getFriends:async()=>{console.log("👥 Getting friends")},areFriends:async(a,n)=>(console.log("🤝 Checking if friends:",{address1:a,address2:n}),!1),createFriendChallenge:async(a,n,r,i)=>(console.log("🎯 Creating friend challenge:",{friendAddress:a,challengeType:n,targetValue:r,durationDays:i}),Math.floor(Math.random()*1e3)+1),getFriendChallenges:async()=>{console.log("🎯 Getting friend challenges")},updateChallengeProgress:async(a,n)=>{console.log("📊 Updating challenge progress:",{challengeId:a,progress:n})},getUserStreak:async()=>{console.log("🔥 Getting user streak")},updateStreak:async()=>{console.log("🔥 Updating streak")},transferNFT:async(a,n)=>{console.log("🎨 Transferring NFT:",{tokenId:a,recipient:n})},getNFTOwner:async a=>(console.log("👤 Getting NFT owner:",a),null),getNFTTokenUri:async a=>(console.log("🔗 Getting NFT token URI:",a),null)}),{name:"stacks-fitness-store",partialize:t=>({isWalletConnected:t.isWalletConnected,userAddress:t.userAddress,userProfile:t.userProfile,dailyProgress:t.dailyProgress,achievements:t.achievements,nftCollection:t.nftCollection})})),Ue=Le()(Ge((t,s)=>({isDarkMode:!0,toggleTheme:()=>{const a=!s().isDarkMode;t({isDarkMode:a}),a?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark"))},setTheme:a=>{t({isDarkMode:a}),a?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark"))}}),{name:"stacksfit-theme",onRehydrateStorage:()=>t=>{t&&(t.isDarkMode?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark")))}})),B=class B{constructor(){E(this,"monitoringInterval",null);E(this,"isMonitoring",!1);E(this,"notificationCallbacks",{})}static getInstance(){return B.instance||(B.instance=new B),B.instance}setNotificationCallbacks(s){this.notificationCallbacks=s}startMonitoring(){if(this.isMonitoring){console.log("👀 Wallet monitoring already active");return}console.log("🔍 Starting wallet account monitoring..."),this.isMonitoring=!0,this.monitoringInterval=setInterval(()=>{this.checkForAccountChange()},1e3),window.addEventListener("storage",this.handleStorageChange.bind(this)),window.addEventListener("focus",this.checkForAccountChange.bind(this)),document.addEventListener("visibilitychange",()=>{document.hidden||this.checkForAccountChange()})}stopMonitoring(){console.log("⏹️ Stopping wallet account monitoring"),this.isMonitoring=!1,this.monitoringInterval&&(clearInterval(this.monitoringInterval),this.monitoringInterval=null),window.removeEventListener("storage",this.handleStorageChange.bind(this)),window.removeEventListener("focus",this.checkForAccountChange.bind(this))}async checkForAccountChange(){try{const s=await this.getCurrentWalletAddress(),a=T.getState().userAddress;if(console.log("🔍 Checking wallet accounts:"),console.log("  Store address:",a),console.log("  Current wallet:",s),s&&a&&s!==a){console.log("🔄 Wallet account change detected!"),console.log("  Previous:",a),console.log("  Current:",s),this.handleAccountChange(s,a);return}if(!s&&a){console.log("💔 Wallet disconnected"),this.handleWalletDisconnect();return}if(s&&!a){console.log("🔗 New wallet connection detected"),T.getState().setTestAddress(s);return}}catch(s){console.error("❌ Error checking wallet account:",s)}}async getCurrentWalletAddress(){try{if(typeof window<"u"&&window.StacksProvider)try{const r=window.StacksProvider;if(r.getAddress){const i=await r.getAddress();if(i)return console.log("📡 Got address from StacksProvider:",i),i}}catch(r){console.log("⚠️ StacksProvider method failed:",r)}const s=new lt(["store_write","publish_data"]),a=new We({appConfig:s});if(a.isUserSignedIn()){const r=a.loadUserData(),i=r.profile.stxAddress.testnet||r.profile.stxAddress.mainnet;if(i)return console.log("📡 Got address from UserSession:",i),i}const n=localStorage.getItem("stacksfit_wallet_address");return n?(console.log("📡 Got address from localStorage:",n),n):null}catch(s){return console.error("❌ Failed to get current wallet address:",s),null}}handleAccountChange(s,a){const n=T.getState();this.notificationCallbacks.onAccountChange?this.notificationCallbacks.onAccountChange(s,a):this.showAccountChangeNotification(s,a),this.clearUserData(),n.setTestAddress(s),localStorage.setItem("stacksfit_wallet_address",s),setTimeout(async()=>{try{await n.getDailyProgress(),await n.getAchievements(),await n.getNFTCollection(),console.log("✅ Loaded data for new wallet account")}catch(r){console.error("❌ Failed to load data for new account:",r)}},1e3)}handleWalletDisconnect(){console.log("🚪 Handling wallet disconnect");const s=T.getState();this.clearUserData(),s.disconnectWallet(),this.notificationCallbacks.onDisconnect?this.notificationCallbacks.onDisconnect():this.showDisconnectNotification()}clearUserData(){const s=T.getState();typeof s.clearUserData=="function"&&s.clearUserData()}handleStorageChange(s){(s.key==="stacksfit_wallet_address"||s.key==="stacksfit_wallet_connected")&&(console.log("💾 Wallet storage changed in another tab"),this.checkForAccountChange())}showAccountChangeNotification(s,a){const n=document.createElement("div");n.innerHTML=`
      <div style="
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 10000;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 16px 20px;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        max-width: 400px;
        font-family: system-ui, -apple-system, sans-serif;
        animation: slideIn 0.3s ease-out;
      ">
        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
          <span style="font-size: 24px;">🔄</span>
          <div style="font-weight: 600; font-size: 16px;">Wallet Account Changed</div>
        </div>
        <div style="font-size: 14px; opacity: 0.9; line-height: 1.4;">
          Switched to: <strong>${s.slice(0,8)}...${s.slice(-6)}</strong><br>
          Your app data has been updated for the new account.
        </div>
      </div>
      <style>
        @keyframes slideIn {
          from { transform: translateX(100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }
      </style>
    `,document.body.appendChild(n),setTimeout(()=>{n.parentNode&&(n.style.animation="slideIn 0.3s ease-out reverse",setTimeout(()=>{n.remove()},300))},5e3)}showDisconnectNotification(){const s=document.createElement("div");s.innerHTML=`
      <div style="
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 10000;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 16px 20px;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        max-width: 400px;
        font-family: system-ui, -apple-system, sans-serif;
        animation: slideIn 0.3s ease-out;
      ">
        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
          <span style="font-size: 24px;">💔</span>
          <div style="font-weight: 600; font-size: 16px;">Wallet Disconnected</div>
        </div>
        <div style="font-size: 14px; opacity: 0.9;">
          Please reconnect your wallet to continue using StacksFit.
        </div>
      </div>
      <style>
        @keyframes slideIn {
          from { transform: translateX(100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }
      </style>
    `,document.body.appendChild(s),setTimeout(()=>{s.parentNode&&(s.style.animation="slideIn 0.3s ease-out reverse",setTimeout(()=>{s.remove()},300))},5e3)}};E(B,"instance");let Ie=B;const de=Ie.getInstance();class Fa{constructor(){E(this,"userSession");E(this,"currentAddress",null);E(this,"checkInterval",null);E(this,"isMonitoring",!1);E(this,"onAccountChangeCallback");E(this,"handleStorageChange",s=>{s.key&&(s.key.includes("stacks")||s.key.includes("wallet")||s.key.includes("connect"))&&(console.log("📦 Storage change detected, checking wallet..."),setTimeout(()=>this.checkForAccountChange(),100))});E(this,"handleWindowFocus",()=>{console.log("👀 Window focused, checking wallet..."),setTimeout(()=>this.checkForAccountChange(),100)});this.userSession=new We}startMonitoring(s){if(this.isMonitoring){console.log("👀 Wallet monitor already running");return}this.onAccountChangeCallback=s,this.isMonitoring=!0,this.currentAddress=this.getCurrentWalletAddress(),console.log("🔍 Starting wallet monitoring. Initial address:",this.currentAddress),this.checkInterval=setInterval(()=>{this.checkForAccountChange()},200),window.addEventListener("storage",this.handleStorageChange),window.addEventListener("focus",this.handleWindowFocus)}stopMonitoring(){this.isMonitoring&&(this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null),window.removeEventListener("storage",this.handleStorageChange),window.removeEventListener("focus",this.handleWindowFocus),this.isMonitoring=!1,console.log("🛑 Stopped wallet monitoring"))}getCurrentWalletAddress(){var s,a,n,r;try{if(this.userSession.isUserSignedIn()){const i=this.userSession.loadUserData();return((a=(s=i.profile)==null?void 0:s.stxAddress)==null?void 0:a.testnet)||((r=(n=i.profile)==null?void 0:n.stxAddress)==null?void 0:r.mainnet)||null}return null}catch(i){return console.error("Error getting wallet address:",i),null}}checkForAccountChange(){try{const s=this.getCurrentWalletAddress();this.currentAddress&&s&&s!==this.currentAddress?(console.log("🚨 WALLET ACCOUNT CHANGED!"),console.log("Previous:",this.currentAddress),console.log("New:",s),this.stopMonitoring(),this.onAccountChangeCallback&&this.onAccountChangeCallback(s,this.currentAddress),this.forceDisconnectAndReload()):s&&(this.currentAddress=s)}catch(s){console.error("Error checking for account change:",s)}}forceDisconnectAndReload(){try{console.log("🔄 Forcing wallet disconnect and app reload..."),this.userSession.isUserSignedIn()&&this.userSession.signUserOut(),Object.keys(localStorage).forEach(a=>{(a.includes("stacks")||a.includes("wallet")||a.includes("blockstack")||a.includes("connect"))&&localStorage.removeItem(a)}),sessionStorage.clear();const{disconnectWallet:s}=T.getState();s(),setTimeout(()=>{window.location.reload()},1e3)}catch(s){console.error("Error during forced disconnect:",s),setTimeout(()=>{window.location.reload()},500)}}forceCheck(){const s=this.getCurrentWalletAddress();return console.log("🔍 Manual wallet check. Address:",s),s!==this.currentAddress&&this.checkForAccountChange(),{currentAddress:s,isMonitoring:this.isMonitoring}}}const ke=new Fa,Ra=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx(b.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1,ease:"easeOut"},className:"mb-8",children:e.jsxs("div",{className:"w-32 h-32 mx-auto relative",children:[e.jsx(b.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-full h-full border-4 border-transparent border-t-blue-500 border-r-purple-500 rounded-full"}),e.jsx(b.div,{animate:{rotate:-360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute inset-2 border-4 border-transparent border-t-orange-500 border-l-green-500 rounded-full"})]})}),e.jsx(b.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.8},className:"text-6xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-orange-500 bg-clip-text text-transparent mb-4",children:"StacksFit"}),e.jsx(b.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7,duration:.8},className:"text-xl text-gray-300 mb-8",children:"Revolutionizing Fitness on the Blockchain"}),e.jsx(b.div,{initial:{scale:0},animate:{scale:1},transition:{delay:1,duration:.5},className:"flex justify-center space-x-2",children:[0,1,2].map(t=>e.jsx(b.div,{animate:{y:[0,-20,0]},transition:{duration:1,repeat:1/0,delay:t*.2},className:"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full"},t))})]})});var La={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wa=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N=(t,s)=>{const a=x.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...d},m)=>x.createElement("svg",{ref:m,...La,width:r,height:r,stroke:n,strokeWidth:o?Number(i)*24/Number(r):i,className:`lucide lucide-${Wa(t)}`,...d},[...s.map(([g,f])=>x.createElement(g,f)),...(Array.isArray(l)?l:[l])||[]]));return a.displayName=`${t}`,a},I=N("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),$a=N("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Me=N("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Oa=N("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]),W=N("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),U=N("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Ba=N("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),At=N("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ga=N("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Pt=N("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ua=N("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),za=N("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),he=N("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Et=N("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ha=N("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),K=N("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]),De=N("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),_a=N("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Va=N("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),qa=N("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ge=N("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Ya=N("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Za=N("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ka=N("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Se=N("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Xa=N("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Ja=N("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Qa=N("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ze=N("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),It=N("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Fe=N("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),en=N("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Re=N("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Mt=N("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),tn=N("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),sn=N("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),fe=N("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),an=N("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ye=N("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),be=N("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),it=N("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),V=N("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),nn=N("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),rn=N("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),on=N("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Dt=N("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ee=N("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ln=()=>{const{connectWallet:t,isLoading:s}=T(),a=[{icon:Mt,title:"Secure & Decentralized",description:"Your fitness data is stored securely on the Stacks blockchain"},{icon:ee,title:"AI-Powered Coaching",description:"Get personalized workout plans and nutrition advice from our AI"},{icon:ye,title:"Track Your Progress",description:"Monitor your fitness journey with detailed analytics and insights"}];return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-6xl w-full",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs(b.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},className:"text-center lg:text-left",children:[e.jsx(b.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.8},className:"text-7xl font-bold mb-6",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-orange-500 bg-clip-text text-transparent",children:"StacksFit"})}),e.jsxs(b.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.8},className:"text-2xl text-gray-300 mb-8 leading-relaxed",children:["The Future of Fitness is Here.",e.jsx("br",{}),e.jsx("span",{className:"text-lg text-gray-400",children:"Track your progress, earn NFT rewards, and get AI-powered coaching on the blockchain."})]}),e.jsxs(b.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.8},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{console.log("🔗 Connect wallet button clicked"),t()},disabled:s,className:"group relative px-12 py-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl text-white font-bold text-xl shadow-2xl hover:shadow-blue-500/25 transition-all duration-300 disabled:opacity-50",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl blur opacity-75 group-hover:opacity-100 transition duration-300"}),e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx(rn,{className:"mr-3",size:24}),s?"Connecting...":"Connect Stacks Wallet"]})]}),e.jsxs(b.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8,duration:.8},className:"text-sm text-gray-500 mt-4",children:["New to Stacks? ",e.jsx("a",{href:"https://www.hiro.so/wallet",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"Get Hiro Wallet"})]})]}),e.jsxs(b.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4,duration:.8},className:"space-y-6",children:[a.map((n,r)=>e.jsx(b.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6+r*.2,duration:.8},className:"glass-morphism p-6 rounded-2xl card-hover",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl",children:e.jsx(n.icon,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:n.title}),e.jsx("p",{className:"text-gray-300 leading-relaxed",children:n.description})]})]})},r)),e.jsxs(b.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.2,duration:.8},className:"grid grid-cols-3 gap-4 mt-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-400",children:"10K+"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Active Users"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-400",children:"50M+"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Steps Tracked"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-400",children:"5K+"}),e.jsx("div",{className:"text-sm text-gray-400",children:"NFTs Earned"})]})]})]})]}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx(b.div,{animate:{y:[0,-20,0],rotate:[0,180,360]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute top-20 left-20 w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full opacity-20 blur-xl"}),e.jsx(b.div,{animate:{y:[0,20,0],rotate:[360,180,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 right-20 w-32 h-32 bg-gradient-to-r from-orange-500 to-pink-500 rounded-full opacity-20 blur-xl"})]})]})})},Ft=Le()(Ge(t=>({activeSection:"overview",setActiveSection:s=>{console.log("🎯 Navigation: Setting active section to:",s),t({activeSection:s})}}),{name:"navigation-store"})),cn=()=>{const{userAddress:t}=T(),[s,a]=x.useState("get-dashboard-data-v2"),[n,r]=x.useState(""),[i,o]=x.useState([]),[l,d]=x.useState(!1),m="STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E",g="stacksfit-v2",f="https://api.testnet.hiro.so/v2/contracts/call-read",j=[{name:"get-dashboard-data-v2",label:"📊 Dashboard Data V2",description:"Get comprehensive user dashboard data",parameters:["user: principal"],requiresAddress:!0,requiresDate:!1},{name:"get-user-profile",label:"👤 User Profile",description:"Get user profile information",parameters:["user: principal"],requiresAddress:!0,requiresDate:!1},{name:"get-current-date",label:"📅 Current Date",description:"Get blockchain current date",parameters:[],requiresAddress:!1,requiresDate:!1}];x.useEffect(()=>{t&&!n&&r(t)},[t,n]);const w=h=>{if(!h)return"";if(h.startsWith("ST")||h.startsWith("SP")){const v=new TextEncoder().encode(h);return"0x"+Array.from(v).map(k=>k.toString(16).padStart(2,"0")).join("")}return h.startsWith("0x")?h:"0x"+h},p=async()=>{if(!s)return;const h=j.find(v=>v.name===s);if(h){if(h.requiresAddress&&!n){alert("Address is required for this function");return}d(!0);try{const v=[];h.requiresAddress&&v.push(w(n));const k=await fetch(`${f}/${m}/${g}/${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:n||"STP472NMPYXCMRB4G75EM43PESZT33FZG7GBVK8E",arguments:v})}),P=await k.json(),Y={function:s,parameters:{address:n,args:v},result:P,timestamp:new Date,status:k.ok?"success":"error",error:k.ok?void 0:P.error||"Unknown error"};o(Rt=>[Y,...Rt.slice(0,9)])}catch(v){const k={function:s,parameters:{address:n},result:null,timestamp:new Date,status:"error",error:v instanceof Error?v.message:"Network error"};o(P=>[k,...P.slice(0,9)])}d(!1)}},y=h=>{navigator.clipboard.writeText(h)},u=h=>typeof h=="string"?h:JSON.stringify(h,null,2),c=j.find(h=>h.name===s);return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent mb-2",children:"🔗 Blockchain Records Query"}),e.jsx("p",{className:"text-gray-300",children:"Query real data from StacksFit V2 smart contract"})]}),e.jsx("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Contract Address:"}),e.jsx("span",{className:"text-blue-400 ml-2 font-mono",children:m})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Contract Name:"}),e.jsx("span",{className:"text-green-400 ml-2",children:g})]})]})}),e.jsxs("div",{className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-5 h-5"}),"Query Builder"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Select Read Function"}),e.jsx("select",{value:s,onChange:h=>a(h.target.value),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white",children:j.map(h=>e.jsx("option",{value:h.name,className:"bg-gray-800",children:h.label},h.name))})]}),c&&c.requiresAddress&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:["User Address ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:n,onChange:h=>r(h.target.value),placeholder:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400"})]}),e.jsx("button",{onClick:p,disabled:l,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 px-6 rounded-lg hover:from-blue-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"w-5 h-5 animate-spin"}),"Querying Blockchain..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"w-5 h-5"}),"Execute Query"]})})]})]}),i.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(Et,{className:"w-5 h-5"}),"Query Results"]}),i.map((h,v)=>e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-4 rounded-xl border backdrop-blur-md ${h.status==="success"?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[h.status==="success"?e.jsx(Pt,{className:"w-4 h-4 text-green-400"}):e.jsx(on,{className:"w-4 h-4 text-red-400"}),h.function]}),e.jsx("p",{className:"text-gray-400 text-sm",children:h.timestamp.toLocaleString()})]}),e.jsx("button",{onClick:()=>y(u(h.result)),className:"p-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:e.jsx(za,{className:"w-4 h-4"})})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-1",children:h.status==="success"?"Result:":"Error:"}),e.jsx("div",{className:"bg-black/20 p-3 rounded-lg max-h-64 overflow-y-auto",children:e.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:h.status==="success"?u(h.result):h.error||"Unknown error"})})]})]},v))]})]})},dn=({className:t=""})=>{const[s,a]=x.useState(!1),{isDarkMode:n,toggleTheme:r}=Ue();return e.jsxs("div",{className:`relative ${t}`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[e.jsx(b.button,{whileHover:{scale:1.1,rotate:45},whileTap:{scale:.95},transition:{duration:.2},className:"p-3 glass-morphism rounded-xl hover:bg-white/10 transition-colors",children:e.jsx(Re,{size:20,className:"text-gray-300"})}),e.jsx(z,{children:s&&e.jsx(b.div,{initial:{opacity:0,x:10,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:10,scale:.9},transition:{duration:.2},className:"absolute top-1/2 right-full mr-3 -translate-y-1/2 z-50",children:e.jsxs("div",{className:"bg-black/90 backdrop-blur-sm border border-white/20 rounded-xl p-3 shadow-2xl min-w-[200px]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Re,{size:16,className:"text-blue-400"}),e.jsx("span",{className:"text-white text-sm font-semibold",children:"Theme Settings"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white text-sm font-medium",children:n?"Dark Mode":"Light Mode"}),e.jsxs("button",{onClick:r,className:`relative inline-flex items-center h-6 w-11 rounded-full transition-colors duration-200 focus:outline-none ${n?"bg-blue-500":"bg-gray-300"}`,children:[e.jsx(b.div,{layout:!0,className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-lg transition-transform duration-200 ${n?"translate-x-6":"translate-x-1"}`}),e.jsx(b.div,{initial:!1,animate:{x:n?-24:-8,opacity:1},className:"absolute inset-0 flex items-center justify-center",children:n?e.jsx(Ja,{size:12,className:"text-white ml-1"}):e.jsx(sn,{size:12,className:"text-gray-600 mr-1"})})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Preview:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:`w-8 h-6 rounded border-2 cursor-pointer transition-all ${n?"bg-gray-900 border-blue-400":"bg-gray-900 border-gray-600"}`,onClick:()=>!n&&r(),children:e.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-t-sm"})}),e.jsx("div",{className:`w-8 h-6 rounded border-2 cursor-pointer transition-all ${n?"bg-white border-gray-300":"bg-white border-blue-400"}`,onClick:()=>n&&r(),children:e.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-t-sm"})})]})]})]})})})]})},un=({data:t})=>{const s=t.slice(0,7).reverse().map(a=>({day:new Date(a.date).toLocaleDateString("en-US",{weekday:"short"}),steps:a.steps,calories:a.calories,activeTime:a.activeTime,date:a.date}));return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"glass-morphism rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Weekly Progress"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Steps"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Calories"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Active Time"})]})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(He,{width:"100%",height:"100%",children:e.jsxs($t,{data:s,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"stepsGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"caloriesGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"activeTimeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]})]}),e.jsx(_e,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),e.jsx(Ve,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),e.jsx(qe,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),e.jsx(Ye,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",backdropFilter:"blur(10px)",color:"white"}}),e.jsx(Ot,{type:"monotone",dataKey:"steps",stroke:"#3b82f6",fillOpacity:1,fill:"url(#stepsGradient)",strokeWidth:2})]})})}),e.jsx("div",{className:"mt-6 h-40",children:e.jsx(He,{width:"100%",height:"100%",children:e.jsxs(Bt,{data:s,children:[e.jsx(_e,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),e.jsx(Ve,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),e.jsx(qe,{axisLine:!1,tickLine:!1,tick:{fill:"#9ca3af",fontSize:12}}),e.jsx(Ye,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",backdropFilter:"blur(10px)",color:"white"}}),e.jsx(Ze,{type:"monotone",dataKey:"calories",stroke:"#f97316",strokeWidth:3,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6,fill:"#f97316"}}),e.jsx(Ze,{type:"monotone",dataKey:"activeTime",stroke:"#22c55e",strokeWidth:3,dot:{fill:"#22c55e",strokeWidth:2,r:4},activeDot:{r:6,fill:"#22c55e"}})]})})})]})},Ce=({icon:t,title:s,value:a,target:n,progress:r,color:i})=>{const o={blue:"from-blue-500 to-blue-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",cyan:"from-cyan-500 to-cyan-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600"},l={blue:"text-blue-400",orange:"text-orange-400",red:"text-red-400",cyan:"text-cyan-400",green:"text-green-400",purple:"text-purple-400"},d=Math.min(Math.max(r,0),100);return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"metric-card card-hover relative overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${o[i]} opacity-10`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${o[i]}`,children:e.jsx(t,{size:24,className:"text-white"})}),e.jsx("span",{className:"text-2xl",children:d>=100?"🎉":d>=80?"🔥":"💪"})]}),e.jsx("h3",{className:"text-gray-300 text-sm font-medium mb-2",children:s}),e.jsxs("div",{className:"flex items-baseline space-x-2 mb-3",children:[e.jsx("span",{className:`text-3xl font-bold ${l[i]}`,children:a}),e.jsxs("span",{className:"text-gray-500 text-sm",children:["/ ",n]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx(b.div,{initial:{width:0},animate:{width:`${d}%`},transition:{duration:1,delay:.5},className:`h-2 rounded-full bg-gradient-to-r ${o[i]}`})}),e.jsxs("span",{className:"text-xs text-gray-400 mt-1 block",children:[d.toFixed(0),"% of goal"]})]})]})]})},mn=()=>{const{recordDailyProgress:t,isTransactionPending:s,userAddress:a}=T(),[n,r]=x.useState({steps:0,calories:0,activeTime:0,distance:0,caloriesConsumed:0,protein:0,carbs:0,fats:0,waterMl:0,workoutType:"General",workoutDuration:0,workoutIntensity:5,moodRating:7,notes:""}),[i,o]=x.useState("activity"),[l,d]=x.useState({}),[m,g]=x.useState(!1),f=["General","Cardio","Strength","Yoga","Running","Swimming","Cycling","Dancing","Sports","Walking","HIIT","Stretching"],j=()=>{const c={};return(n.steps<0||n.steps>2e5)&&(c.steps="Steps must be between 0 and 200,000"),(n.calories<0||n.calories>1e4)&&(c.calories="Calories must be between 0 and 10,000"),(n.activeTime<0||n.activeTime>1440)&&(c.activeTime="Active time must be between 0 and 1440 minutes"),(n.workoutIntensity<1||n.workoutIntensity>10)&&(c.workoutIntensity="Intensity must be between 1 and 10"),(n.moodRating<1||n.moodRating>10)&&(c.moodRating="Mood rating must be between 1 and 10"),n.notes.length>200&&(c.notes="Notes must be 200 characters or less"),d(c),Object.keys(c).length===0},w=async c=>{if(c.preventDefault(),!a){alert("Please connect your wallet first");return}if(j()){g(!0);try{const h={steps:n.steps,calories:n.calories,activeTime:n.activeTime};await t(h),console.log("✅ Progress recorded successfully!"),r({steps:0,calories:0,activeTime:0,distance:0,caloriesConsumed:0,protein:0,carbs:0,fats:0,waterMl:0,workoutType:"General",workoutDuration:0,workoutIntensity:5,moodRating:7,notes:""})}catch(h){console.error("❌ Failed to record progress:",h),alert("Failed to record progress. Please try again.")}finally{g(!1)}}},p=(c,h)=>{r(v=>({...v,[c]:h}))};if(!a)return e.jsxs("div",{className:"bg-white/10 p-6 rounded-xl backdrop-blur-md text-center",children:[e.jsx(I,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Connect Wallet Required"}),e.jsx("p",{className:"text-gray-300",children:"Please connect your Stacks wallet to record your fitness progress."})]});const y=[{id:"activity",label:"Activity",icon:I},{id:"nutrition",label:"Nutrition",icon:nn},{id:"workout",label:"Workout",icon:K},{id:"wellness",label:"Wellness",icon:Va}],u=()=>{switch(i){case"activity":return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:[e.jsx(I,{className:"w-4 h-4 inline mr-2"}),"Steps"]}),e.jsx("input",{type:"number",value:n.steps,onChange:c=>p("steps",parseInt(c.target.value)||0),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-blue-400 focus:outline-none",min:"0",max:"200000",placeholder:"10,000"}),l.steps&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.steps})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:[e.jsx(De,{className:"w-4 h-4 inline mr-2"}),"Calories Burned"]}),e.jsx("input",{type:"number",value:n.calories,onChange:c=>p("calories",parseInt(c.target.value)||0),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-orange-400 focus:outline-none",min:"0",max:"10000",placeholder:"500"}),l.calories&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.calories})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:[e.jsx(he,{className:"w-4 h-4 inline mr-2"}),"Active Time (min)"]}),e.jsx("input",{type:"number",value:n.activeTime,onChange:c=>p("activeTime",parseInt(c.target.value)||0),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-green-400 focus:outline-none",min:"0",max:"1440",placeholder:"60"}),l.activeTime&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.activeTime})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:[e.jsx(Ka,{className:"w-4 h-4 inline mr-2"}),"Distance (km)"]}),e.jsx("input",{type:"number",step:"0.1",value:n.distance,onChange:c=>p("distance",parseFloat(c.target.value)||0),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-purple-400 focus:outline-none",min:"0",placeholder:"5.0"})]})]})});case"nutrition":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Calories Consumed"}),e.jsx("input",{type:"number",value:n.caloriesConsumed,onChange:c=>p("caloriesConsumed",parseInt(c.target.value)||0),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-orange-400 focus:outline-none",min:"0",placeholder:"2000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Protein (g)"}),e.jsx("input",{type:"number",value:n.protein,onChange:c=>p("protein",parseInt(c.target.value)||0),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-red-400 focus:outline-none",min:"0",placeholder:"150"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Carbs (g)"}),e.jsx("input",{type:"number",value:n.carbs,onChange:c=>p("carbs",parseInt(c.target.value)||0),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-yellow-400 focus:outline-none",min:"0",placeholder:"250"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Fats (g)"}),e.jsx("input",{type:"number",value:n.fats,onChange:c=>p("fats",parseInt(c.target.value)||0),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-green-400 focus:outline-none",min:"0",placeholder:"70"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:[e.jsx(Ha,{className:"w-4 h-4 inline mr-2"}),"Water Intake (ml)"]}),e.jsx("input",{type:"number",value:n.waterMl,onChange:c=>p("waterMl",parseInt(c.target.value)||0),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-cyan-400 focus:outline-none",min:"0",placeholder:"2000"})]})]});case"workout":return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Workout Type"}),e.jsx("select",{value:n.workoutType,onChange:c=>p("workoutType",c.target.value),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-purple-400 focus:outline-none",children:f.map(c=>e.jsx("option",{value:c,className:"bg-gray-800",children:c},c))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Duration (min)"}),e.jsx("input",{type:"number",value:n.workoutDuration,onChange:c=>p("workoutDuration",parseInt(c.target.value)||0),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-blue-400 focus:outline-none",min:"0",placeholder:"45"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:["Intensity (1-10)",e.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["Current: ",n.workoutIntensity]})]}),e.jsx("input",{type:"range",min:"1",max:"10",value:n.workoutIntensity,onChange:c=>p("workoutIntensity",parseInt(c.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"}),l.workoutIntensity&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.workoutIntensity})]})]})});case"wellness":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:["Mood Rating (1-10)",e.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["Current: ",n.moodRating]})]}),e.jsx("input",{type:"range",min:"1",max:"10",value:n.moodRating,onChange:c=>p("moodRating",parseInt(c.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[e.jsx("span",{children:"😔 Poor"}),e.jsx("span",{children:"😐 Okay"}),e.jsx("span",{children:"😊 Great"})]}),l.moodRating&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.moodRating})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Notes"}),e.jsx("textarea",{value:n.notes,onChange:c=>p("notes",c.target.value),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none",placeholder:"How are you feeling today? Any observations about your workout or nutrition?",rows:4,maxLength:200}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.notes&&e.jsx("p",{className:"text-red-400 text-sm",children:l.notes}),e.jsxs("p",{className:"text-gray-400 text-sm",children:[n.notes.length,"/200"]})]})]})]});default:return null}};return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(I,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Record Daily Progress"})]}),e.jsx("div",{className:"flex space-x-1 bg-black/20 rounded-xl p-1 mb-6",children:y.map(c=>{const h=c.icon;return e.jsxs("button",{onClick:()=>o(c.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${i===c.id?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[e.jsx(h,{size:16}),e.jsx("span",{className:"font-medium",children:c.label})]},c.id)})}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[u(),e.jsx("button",{type:"submit",disabled:m||s,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 px-6 rounded-lg hover:from-blue-600 hover:to-purple-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:m||s?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"w-5 h-5 animate-spin"}),"Recording on Blockchain..."]}):e.jsxs(e.Fragment,{children:[e.jsx(It,{className:"w-5 h-5"}),"Record Progress on Blockchain"]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-green-500/10 border border-green-400/20 rounded-lg",children:[e.jsx("h4",{className:"text-green-400 font-medium mb-2",children:"🔗 Blockchain Benefits"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"• Your progress is permanently recorded and tamper-proof"}),e.jsx("li",{children:"• Earn achievements and NFT rewards automatically"}),e.jsx("li",{children:"• Build a verifiable fitness history you truly own"}),e.jsx("li",{children:"• Share your progress with trusted fitness partners"})]})]})]})},hn=()=>{const{createWorkoutPlan:t,isTransactionPending:s,userAddress:a}=T(),[n,r]=x.useState({planName:"",durationWeeks:4,difficulty:"beginner",workoutDataHash:"",aiModelVersion:"v1.0",isActive:!0,exercises:[{name:"",sets:3,reps:10,weight:0,duration:0,restTime:60}]}),[i,o]=x.useState({}),[l,d]=x.useState(!1),m=()=>{const p={};return n.planName.trim()?n.planName.length>100&&(p.planName="Plan name must be 100 characters or less"):p.planName="Plan name is required",(n.durationWeeks<1||n.durationWeeks>52)&&(p.durationWeeks="Duration must be between 1 and 52 weeks"),n.exercises.length===0&&(p.exercises="At least one exercise is required"),n.exercises.forEach((y,u)=>{y.name.trim()||(p[`exercise_${u}_name`]="Exercise name is required"),(y.sets<1||y.sets>20)&&(p[`exercise_${u}_sets`]="Sets must be between 1 and 20"),(y.reps<1||y.reps>100)&&(p[`exercise_${u}_reps`]="Reps must be between 1 and 100")}),o(p),Object.keys(p).length===0},g=async p=>{if(p.preventDefault(),!a){alert("Please connect your wallet first");return}if(m()){d(!0);try{const y=JSON.stringify({exercises:n.exercises,metadata:{aiModelVersion:n.aiModelVersion,createdAt:new Date().toISOString()}}),u="Qm"+btoa(y).slice(0,44),c={planName:n.planName,durationWeeks:n.durationWeeks,difficulty:n.difficulty,workoutDataHash:u,aiModelVersion:n.aiModelVersion,isActive:n.isActive,exercises:n.exercises},h=await t(c);console.log("✅ Workout plan created successfully with ID:",h),r({planName:"",durationWeeks:4,difficulty:"beginner",workoutDataHash:"",aiModelVersion:"v1.0",isActive:!0,exercises:[{name:"",sets:3,reps:10,weight:0,duration:0,restTime:60}]})}catch(y){console.error("❌ Failed to create workout plan:",y),alert("Failed to create workout plan. Please try again.")}finally{d(!1)}}},f=()=>{r(p=>({...p,exercises:[...p.exercises,{name:"",sets:3,reps:10,weight:0,duration:0,restTime:60}]}))},j=p=>{r(y=>({...y,exercises:y.exercises.filter((u,c)=>c!==p)}))},w=(p,y,u)=>{r(c=>({...c,exercises:c.exercises.map((h,v)=>v===p?{...h,[y]:u}:h)}))};return a?e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(K,{className:"w-6 h-6 text-purple-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Workout Plan"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Plan Name"}),e.jsx("input",{type:"text",value:n.planName,onChange:p=>r(y=>({...y,planName:p.target.value})),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:border-purple-400 focus:outline-none",placeholder:"e.g. 6-Week Strength Builder",maxLength:100}),i.planName&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:i.planName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:[e.jsx(At,{className:"w-4 h-4 inline mr-2"}),"Duration (weeks)"]}),e.jsx("input",{type:"number",value:n.durationWeeks,onChange:p=>r(y=>({...y,durationWeeks:parseInt(p.target.value)||0})),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white focus:border-blue-400 focus:outline-none",min:"1",max:"52"}),i.durationWeeks&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:i.durationWeeks})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:[e.jsx(fe,{className:"w-4 h-4 inline mr-2"}),"Difficulty Level"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:["beginner","intermediate","advanced"].map(p=>e.jsxs("button",{type:"button",onClick:()=>r(y=>({...y,difficulty:p})),className:`p-4 rounded-lg border transition-colors ${n.difficulty===p?"bg-purple-500/30 border-purple-400":"bg-white/5 border-white/20 hover:border-white/40"}`,children:[e.jsx("h4",{className:"text-white font-medium capitalize",children:p}),e.jsxs("p",{className:"text-gray-300 text-sm mt-1",children:[p==="beginner"&&"Perfect for fitness newcomers",p==="intermediate"&&"For regular gym-goers",p==="advanced"&&"Challenging for athletes"]})]},p))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("label",{className:"block text-white font-medium",children:[e.jsx(K,{className:"w-4 h-4 inline mr-2"}),"Exercises"]}),e.jsxs("button",{type:"button",onClick:f,className:"bg-green-500/20 text-green-400 px-3 py-1 rounded-lg hover:bg-green-500/30 transition-colors flex items-center gap-2",children:[e.jsx(Qa,{className:"w-4 h-4"}),"Add Exercise"]})]}),e.jsx("div",{className:"space-y-4",children:n.exercises.map((p,y)=>e.jsxs("div",{className:"bg-white/5 p-4 rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"text-white font-medium",children:["Exercise ",y+1]}),n.exercises.length>1&&e.jsx("button",{type:"button",onClick:()=>j(y),className:"text-red-400 hover:text-red-300 transition-colors",children:e.jsx(an,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-3",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-1",children:"Exercise Name"}),e.jsx("input",{type:"text",value:p.name,onChange:u=>w(y,"name",u.target.value),className:"w-full p-2 bg-white/5 border border-white/20 rounded text-white text-sm focus:border-purple-400 focus:outline-none",placeholder:"e.g. Push-ups"}),i[`exercise_${y}_name`]&&e.jsx("p",{className:"text-red-400 text-xs mt-1",children:i[`exercise_${y}_name`]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-1",children:"Sets"}),e.jsx("input",{type:"number",value:p.sets,onChange:u=>w(y,"sets",parseInt(u.target.value)||0),className:"w-full p-2 bg-white/5 border border-white/20 rounded text-white text-sm focus:border-blue-400 focus:outline-none",min:"1",max:"20"}),i[`exercise_${y}_sets`]&&e.jsx("p",{className:"text-red-400 text-xs mt-1",children:i[`exercise_${y}_sets`]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-1",children:"Reps"}),e.jsx("input",{type:"number",value:p.reps,onChange:u=>w(y,"reps",parseInt(u.target.value)||0),className:"w-full p-2 bg-white/5 border border-white/20 rounded text-white text-sm focus:border-green-400 focus:outline-none",min:"1",max:"100"}),i[`exercise_${y}_reps`]&&e.jsx("p",{className:"text-red-400 text-xs mt-1",children:i[`exercise_${y}_reps`]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-1",children:"Weight (kg)"}),e.jsx("input",{type:"number",value:p.weight||"",onChange:u=>w(y,"weight",parseFloat(u.target.value)||0),className:"w-full p-2 bg-white/5 border border-white/20 rounded text-white text-sm focus:border-orange-400 focus:outline-none",min:"0",step:"0.5",placeholder:"Optional"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm mb-1",children:"Rest (sec)"}),e.jsx("input",{type:"number",value:p.restTime,onChange:u=>w(y,"restTime",parseInt(u.target.value)||0),className:"w-full p-2 bg-white/5 border border-white/20 rounded text-white text-sm focus:border-cyan-400 focus:outline-none",min:"0",step:"15"})]})]})]},y))}),i.exercises&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:i.exercises})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:p=>r(y=>({...y,isActive:p.target.checked})),className:"w-4 h-4 text-purple-600 bg-white/5 border-white/20 rounded focus:ring-purple-500"}),e.jsxs("label",{htmlFor:"isActive",className:"ml-2 text-white flex items-center gap-2",children:[n.isActive?e.jsx(_a,{className:"w-4 h-4"}):e.jsx(Ya,{className:"w-4 h-4"}),n.isActive?"Public Plan":"Private Plan"]})]})}),e.jsx("button",{type:"submit",disabled:l||s,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold py-3 px-6 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l||s?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"w-5 h-5 animate-spin"}),"Creating Plan on Blockchain..."]}):e.jsxs(e.Fragment,{children:[e.jsx(It,{className:"w-5 h-5"}),"Create Workout Plan on Blockchain"]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-purple-500/10 border border-purple-400/20 rounded-lg",children:[e.jsx("h4",{className:"text-purple-400 font-medium mb-2",children:"💡 Blockchain Benefits"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"• Your workout plan is permanently stored and tamper-proof"}),e.jsx("li",{children:"• Share your successful plans with the fitness community"}),e.jsx("li",{children:"• Track completion rates and optimize your training"}),e.jsx("li",{children:"• Monetize effective plans through decentralized fitness marketplace"})]})]})]}):e.jsxs("div",{className:"bg-white/10 p-6 rounded-xl backdrop-blur-md text-center",children:[e.jsx(K,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Connect Wallet Required"}),e.jsx("p",{className:"text-gray-300",children:"Please connect your Stacks wallet to create workout plans."})]})},pn=()=>{const{addFriend:t,isTransactionPending:s,userAddress:a}=T(),[n,r]=x.useState(""),[i,o]=x.useState([]),[l,d]=x.useState({}),[m,g]=x.useState(!1),[f,j]=x.useState(!1),w=[{address:"SP1ABCD...XYZ",displayName:"FitFriend123",streak:15,lastActive:"2 hours ago"},{address:"SP2EFGH...ABC",displayName:"GymBuddy",streak:8,lastActive:"1 day ago"},{address:"SP3IJKL...DEF",displayName:"RunnerPro",streak:22,lastActive:"3 hours ago"}],p=h=>/^S[PT][0-9A-HJKMNP-Z]{39}$/.test(h),y=async h=>{r(h),d({}),h.length>10&&(j(!0),await new Promise(k=>setTimeout(k,500)),!p(h)&&h.length>=41&&d({address:"Invalid Stacks address format"}),j(!1))},u=async h=>{if(h.preventDefault(),!a){alert("Please connect your wallet first");return}if(!p(n)){d({address:"Please enter a valid Stacks address"});return}if(n===a){d({address:"You cannot add yourself as a friend"});return}g(!0);try{await t(n),console.log("✅ Friend request sent successfully!"),o(v=>[...v,{address:n,displayName:`User-${n.slice(0,8)}`,isValid:!0}]),r(""),d({})}catch(v){console.error("❌ Failed to add friend:",v),d({address:"Failed to send friend request. Please try again."})}finally{g(!1)}},c=h=>`${h.slice(0,8)}...${h.slice(-6)}`;return a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(it,{className:"w-6 h-6 text-green-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add Friend"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Friend's Stacks Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:h=>y(h.target.value),className:"w-full p-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:border-green-400 focus:outline-none pr-10",placeholder:"SP1ABC...XYZ (Stacks address)",maxLength:41}),f&&e.jsx("div",{className:"absolute right-3 top-3",children:e.jsx(ge,{className:"w-5 h-5 text-yellow-400 animate-spin"})}),!f&&n.length>=41&&e.jsx("div",{className:"absolute right-3 top-3",children:p(n)?e.jsx(Ua,{className:"w-5 h-5 text-green-400"}):e.jsx(Dt,{className:"w-5 h-5 text-red-400"})})]}),l.address&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.address}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Enter a valid Stacks address (starts with SP or ST)"})]}),e.jsx("button",{type:"submit",disabled:m||s||!p(n),className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold py-3 px-6 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:m||s?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"w-5 h-5 animate-spin"}),"Sending Friend Request..."]}):e.jsxs(e.Fragment,{children:[e.jsx(it,{className:"w-5 h-5"}),"Send Friend Request on Blockchain"]})})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-400/20 rounded-lg",children:[e.jsx("h4",{className:"text-blue-400 font-medium mb-1",children:"🤝 How it works"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Friend requests are recorded on the Stacks blockchain, creating permanent and verifiable connections."})]})]}),i.length>0&&e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Se,{className:"w-5 h-5 text-yellow-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Pending Requests"})]}),e.jsx("div",{className:"space-y-3",children:i.map((h,v)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:h.displayName}),e.jsx("p",{className:"text-gray-400 text-sm",children:c(h.address)})]}),e.jsx("div",{className:"text-yellow-400 text-sm",children:"Pending..."})]},v))})]}),e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(V,{className:"w-6 h-6 text-purple-400"}),e.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Your Fitness Friends (",w.length,")"]})]}),w.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map((h,v)=>e.jsxs(b.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:v*.1},className:"bg-gradient-to-br from-purple-500/20 to-blue-500/20 p-4 rounded-xl border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-white font-medium",children:h.displayName}),e.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[e.jsx(be,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:h.streak})]})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:c(h.address)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-green-400 text-sm",children:["Active ",h.lastActive]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-2 bg-blue-500/20 text-blue-400 rounded-lg hover:bg-blue-500/30 transition-colors",children:e.jsx(Se,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-orange-500/20 text-orange-400 rounded-lg hover:bg-orange-500/30 transition-colors",children:e.jsx(fe,{className:"w-4 h-4"})})]})]})]},v))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(V,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("h4",{className:"text-white text-lg mb-2",children:"No friends yet"}),e.jsx("p",{className:"text-gray-400",children:"Add your first fitness friend to start building your network!"})]})]}),e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"🤝 Friendship Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4",children:[e.jsx(be,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),e.jsx("h4",{className:"text-white font-medium mb-1",children:"Compete"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Challenge friends to fitness competitions"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx(fe,{className:"w-8 h-8 text-orange-400 mx-auto mb-2"}),e.jsx("h4",{className:"text-white font-medium mb-1",children:"Share Goals"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Share workout plans and progress"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx(Se,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),e.jsx("h4",{className:"text-white font-medium mb-1",children:"Motivate"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Send encouragement and celebrate wins"})]})]})]})]}):e.jsxs("div",{className:"bg-white/10 p-6 rounded-xl backdrop-blur-md text-center",children:[e.jsx(V,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Connect Wallet Required"}),e.jsx("p",{className:"text-gray-300",children:"Please connect your Stacks wallet to manage friends."})]})},xn=()=>{const[t,s]=x.useState(!1),[a,n]=x.useState(""),{recordDailyProgress:r,createWorkoutPlan:i,addFriend:o,userAddress:l,isTransactionPending:d}=T(),m=async()=>{const p={age:28,height:175,weight:70,fitnessLevel:"Intermediate",goals:"Weight Loss & Strength Building",targetDailySteps:1e4};n("Creating sample profile..."),console.log("Sample profile would be:",p)},g=async()=>{n("Generating sample progress data...");const p=[{steps:8500,calories:420,activeTime:45},{steps:12e3,calories:580,activeTime:65},{steps:9800,calories:490,activeTime:55},{steps:11200,calories:650,activeTime:70},{steps:7600,calories:380,activeTime:40},{steps:13500,calories:720,activeTime:85},{steps:10100,calories:520,activeTime:60}];for(let y=0;y<p.length;y++)try{n(`Recording day ${y+1} of 7...`),await r(p[y]),await new Promise(u=>setTimeout(u,2e3))}catch(u){console.error(`Failed to record day ${y+1}:`,u),n(`Error recording day ${y+1}. Continuing...`)}},f=async()=>{n("Creating sample workout plans...");const p=[{planName:"Morning Cardio Blast",durationWeeks:4,difficulty:"intermediate",workoutDataHash:"QmSampleCardioHash123",aiModelVersion:"v2.0",isActive:!0,exercises:[{name:"Jumping Jacks",sets:3,reps:60,restTime:30},{name:"Burpees",sets:3,reps:15,restTime:45},{name:"Mountain Climbers",sets:3,reps:40,restTime:30},{name:"High Knees",sets:4,reps:30,restTime:20}]},{planName:"Strength Builder",durationWeeks:6,difficulty:"beginner",workoutDataHash:"QmSampleStrengthHash456",aiModelVersion:"v2.0",isActive:!0,exercises:[{name:"Push-ups",sets:3,reps:10,restTime:60},{name:"Squats",sets:3,reps:15,restTime:45},{name:"Plank",sets:3,reps:1,duration:30,restTime:60},{name:"Lunges",sets:3,reps:12,restTime:45}]}];for(let y=0;y<p.length;y++)try{n(`Creating workout plan ${y+1} of ${p.length}...`),await i(p[y]),await new Promise(u=>setTimeout(u,1500))}catch(u){console.error(`Failed to create workout ${y+1}:`,u),n(`Error creating workout ${y+1}. Continuing...`)}},j=async()=>{n("Adding sample friends...");const p=["ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM","ST2CY5V39NHDPWSXMW9QDT3HC3GD6Q6XX4CFRK9AG","ST2JHG361ZXG51QTQTQGWTCCJFX9DNETVQH7HY9SE"];for(let y=0;y<p.length;y++)try{n(`Adding friend ${y+1} of ${p.length}...`),await o(p[y]),await new Promise(u=>setTimeout(u,1e3))}catch(u){console.error(`Failed to add friend ${y+1}:`,u),n(`Error adding friend ${y+1}. Continuing...`)}},w=async()=>{if(!l){n("❌ Please connect your wallet first");return}s(!0),n("🚀 Starting sample data generation...");try{await m(),await new Promise(p=>setTimeout(p,2e3)),await g(),await new Promise(p=>setTimeout(p,2e3)),await f(),await new Promise(p=>setTimeout(p,2e3)),await j(),n("✅ Sample data generation completed!"),setTimeout(()=>{n("")},3e3)}catch(p){console.error("Sample data generation failed:",p),n("❌ Sample data generation failed. Check console for details.")}finally{s(!1)}};return e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 p-6 rounded-xl backdrop-blur-md space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(Et,{className:"w-8 h-8 text-purple-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Sample Data Generator"})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Generate realistic sample data to test your fitness dashboard with blockchain integration"})]}),e.jsx(b.div,{initial:{scale:.95},animate:{scale:1},className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($a,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-400 font-medium mb-1",children:"Demo Data Notice"}),e.jsx("p",{className:"text-yellow-200 text-sm",children:"This will create real blockchain transactions with sample data. Each transaction requires STX tokens for gas fees."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(b.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:g,disabled:t||d,className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-4 rounded-xl border border-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed hover:border-blue-400/40 transition-all",children:[e.jsx(I,{className:"w-6 h-6 text-blue-400 mb-2"}),e.jsx("h3",{className:"text-white font-medium mb-1",children:"Progress Data"}),e.jsx("p",{className:"text-gray-300 text-xs",children:"7 days of activity"})]}),e.jsxs(b.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f,disabled:t||d,className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 p-4 rounded-xl border border-green-500/20 disabled:opacity-50 disabled:cursor-not-allowed hover:border-green-400/40 transition-all",children:[e.jsx(At,{className:"w-6 h-6 text-green-400 mb-2"}),e.jsx("h3",{className:"text-white font-medium mb-1",children:"Workout Plans"}),e.jsx("p",{className:"text-gray-300 text-xs",children:"2 sample workouts"})]}),e.jsxs(b.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:j,disabled:t||d,className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 p-4 rounded-xl border border-purple-500/20 disabled:opacity-50 disabled:cursor-not-allowed hover:border-purple-400/40 transition-all",children:[e.jsx(V,{className:"w-6 h-6 text-purple-400 mb-2"}),e.jsx("h3",{className:"text-white font-medium mb-1",children:"Friends"}),e.jsx("p",{className:"text-gray-300 text-xs",children:"3 sample friends"})]}),e.jsxs(b.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:w,disabled:t||d||!l,className:"bg-gradient-to-br from-orange-500/20 to-red-500/20 p-4 rounded-xl border border-orange-500/20 disabled:opacity-50 disabled:cursor-not-allowed hover:border-orange-400/40 transition-all",children:[e.jsx(ee,{className:"w-6 h-6 text-orange-400 mb-2"}),e.jsx("h3",{className:"text-white font-medium mb-1",children:"Generate All"}),e.jsx("p",{className:"text-gray-300 text-xs",children:"Complete dataset"})]})]}),a&&e.jsx(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-black/20 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[t&&e.jsx("div",{className:"w-4 h-4 border-2 border-purple-400 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-white font-medium",children:a})]})}),e.jsxs("div",{className:"bg-black/20 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"📋 Instructions"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"• Ensure your wallet is connected and has STX tokens"}),e.jsx("li",{children:"• Each transaction will require approval in your wallet"}),e.jsx("li",{children:"• Generation may take several minutes due to blockchain confirmation times"}),e.jsx("li",{children:'• You can generate individual data types or use "Generate All" for everything'})]})]})]})},gn=()=>{const{nftCollection:t,userAddress:s,getNFTCollection:a,isLoading:n,achievements:r}=T();x.useEffect(()=>{s&&(console.log("🎨 Loading NFT collection for user:",s),a())},[s,a]);const i=l=>{const d={1:{level:"Common",color:"from-gray-500 to-gray-600",icon:"🥉"},2:{level:"Rare",color:"from-blue-500 to-blue-600",icon:"🥈"},3:{level:"Epic",color:"from-purple-500 to-purple-600",icon:"🥇"},4:{level:"Legendary",color:"from-yellow-500 to-orange-500",icon:"👑"}};return d[l]||d[1]},o=l=>({1:"Awarded for maintaining a consistent workout streak",2:"Earned through exceptional consistency in daily activities",3:"Granted for achieving significant step milestones",4:"Bestowed upon nutrition goal champions"})[l]||"Special achievement NFT";return s?n?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(b.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"text-6xl mb-4",children:"🎨"}),e.jsx("p",{className:"text-white text-lg",children:"Loading your NFT collection from blockchain..."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Checking your achievements on StacksFit V2 contract"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500/20 to-blue-600/20 p-4 rounded-xl border border-blue-500/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/30 rounded-lg",children:e.jsx(W,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Total NFTs"}),e.jsx("p",{className:"text-blue-400 font-bold text-xl",children:t.length})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 to-purple-600/20 p-4 rounded-xl border border-purple-500/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500/30 rounded-lg",children:e.jsx(be,{className:"w-5 h-5 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Achievements"}),e.jsx("p",{className:"text-purple-400 font-bold text-xl",children:r.length})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-green-500/20 to-green-600/20 p-4 rounded-xl border border-green-500/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500/30 rounded-lg",children:e.jsx(tn,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Collection Rate"}),e.jsxs("p",{className:"text-green-400 font-bold text-xl",children:[Math.round(t.length/4*100),"%"]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 p-4 rounded-xl border border-yellow-500/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-500/30 rounded-lg",children:e.jsx(ee,{className:"w-5 h-5 text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Rarest NFT"}),e.jsx("p",{className:"text-yellow-400 font-bold text-lg",children:t.length>0?i(Math.max(...t.map(l=>l.id))).level:"None"})]})]})})]}),t.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((l,d)=>{const m=i(l.id);return e.jsxs(b.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:d*.1},whileHover:{scale:1.05,y:-5},className:"relative group",children:[e.jsx("div",{className:`bg-gradient-to-br ${m.color} p-1 rounded-2xl shadow-2xl`,children:e.jsxs("div",{className:"bg-black/80 p-6 rounded-xl backdrop-blur-md h-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("span",{className:`px-3 py-1 bg-gradient-to-r ${m.color} text-white text-xs font-bold rounded-full`,children:m.level}),e.jsx("div",{className:"text-2xl",children:m.icon})]}),e.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-purple-500/30 to-blue-500/30 rounded-lg mb-4 flex items-center justify-center",children:e.jsx("div",{className:"text-6xl",children:l.id===1?"🔥":l.id===2?"⚡":l.id===3?"🚀":"🎯"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-white font-bold text-lg",children:l.name}),e.jsx("p",{className:"text-gray-300 text-sm",children:o(l.id)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:l.achievement})]}),e.jsxs("div",{className:"pt-3 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Token ID"}),e.jsxs("span",{className:"text-xs text-green-400 font-mono",children:["#",l.id]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Blockchain"}),e.jsx("span",{className:"text-xs text-purple-400",children:"Stacks"})]})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl pointer-events-none"})]})}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${m.color} rounded-2xl blur-xl opacity-20 group-hover:opacity-40 transition-opacity duration-300 -z-10`})]},l.id)})}):e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[e.jsx("div",{className:"text-8xl mb-6",children:"🏆"}),e.jsx("h3",{className:"text-white text-2xl font-bold mb-4",children:"No NFTs Yet"}),e.jsx("p",{className:"text-gray-400 text-lg mb-8 max-w-md mx-auto",children:"Start your fitness journey and earn achievements to unlock exclusive NFT rewards!"}),e.jsxs("div",{className:"bg-white/5 p-6 rounded-xl max-w-lg mx-auto",children:[e.jsx("h4",{className:"text-white font-semibold mb-4",children:"🎯 Available NFTs to Earn"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{id:1,name:"Streak Warrior",icon:"🔥",requirement:"7-day streak"},{id:2,name:"Consistency Champion",icon:"⚡",requirement:"14 days active"},{id:3,name:"Step Master",icon:"🚀",requirement:"100,000 total steps"},{id:4,name:"Nutrition Guardian",icon:"🎯",requirement:"Complete nutrition tracking"}].map(l=>e.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-1",children:l.icon}),e.jsx("h5",{className:"text-white text-sm font-medium",children:l.name}),e.jsx("p",{className:"text-gray-400 text-xs",children:l.requirement})]},l.id))})]})]}),e.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-white/10",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"🔗 Blockchain Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Contract:"}),e.jsx("span",{className:"text-blue-400 ml-2 font-mono",children:"stacksfit-v2"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Network:"}),e.jsx("span",{className:"text-green-400 ml-2",children:"Stacks Testnet"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Your Address:"}),e.jsx("span",{className:"text-purple-400 ml-2 font-mono",children:s?`${s.slice(0,8)}...${s.slice(-6)}`:"Not connected"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Last Updated:"}),e.jsx("span",{className:"text-yellow-400 ml-2",children:new Date().toLocaleTimeString()})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔗"}),e.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Connect Your Wallet"}),e.jsx("p",{className:"text-gray-400",children:"Connect your Stacks wallet to view your NFT collection"})]})},fn=()=>e.jsx(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"glass-morphism p-4 rounded-2xl max-w-xs",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(U,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"AI is thinking"})]}),e.jsx("div",{className:"flex space-x-1 ml-3",children:[0,1,2].map(t=>e.jsx(b.div,{className:"w-2 h-2 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full",animate:{scale:[1,1.4,1],opacity:[.4,1,.4],y:[0,-3,0]},transition:{duration:1.2,repeat:1/0,delay:t*.15,ease:"easeInOut"}},t))})]})}),yn=()=>{const[t,s]=x.useState([{id:"1",type:"ai",content:`🔥 **WELCOME TO YOUR TRANSFORMATION!** 🔥

Hey there, future fitness legend! I'm your AI Coach, and I'm here to guide you through every rep, every meal, and every milestone on your journey to greatness!

**I'm equipped with:**
• Personalized workout routines
• Real-time form coaching
• Smart nutrition guidance
• Progress analytics & motivation

**Ready to unlock your potential?** Let's start building the strongest, healthiest version of YOU! 💪

What's your fitness goal today?`,timestamp:new Date,suggestions:["Start a workout routine","I need motivation","Plan my nutrition","Check my progress"]}]),[a,n]=x.useState(""),[r,i]=x.useState(!1),[o,l]=x.useState(!1),d=x.useRef(null),m=()=>{var u;(u=d.current)==null||u.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{m()},[t]);const g=[{icon:K,title:"Workout Plan",description:"AI-generated personalized workout",color:"from-blue-500 to-blue-600"},{icon:Oa,title:"Nutrition",description:"Smart meal recommendations",color:"from-green-500 to-green-600"},{icon:fe,title:"Goal Setting",description:"Optimize your fitness targets",color:"from-purple-500 to-purple-600"},{icon:ye,title:"Progress Analysis",description:"AI insights on your journey",color:"from-orange-500 to-orange-600"}],f=async()=>{if(!a.trim())return;const u={id:Date.now().toString(),type:"user",content:a.trim(),timestamp:new Date};s(c=>[...c,u]),n(""),i(!0),l(!0);try{const c=3e3+Math.random()*2e3;await new Promise(Y=>setTimeout(Y,c));let h=j(u.content),v="",k=[];typeof h=="string"?(v=h,k=["Create a workout plan","Get nutrition advice","Track my progress","Find motivation"]):(v=j(u.content),k=w(u.content));const P={id:(Date.now()+1).toString(),type:"ai",content:v,timestamp:new Date,suggestions:k};s(Y=>[...Y,P])}catch(c){console.error("AI response failed:",c);const h={id:(Date.now()+1).toString(),type:"ai",content:"I'm having trouble connecting to my AI brain right now 🤖 But I can still help! "+j(u.content),timestamp:new Date,suggestions:w(u.content)};s(v=>[...v,h])}finally{i(!1),l(!1)}},j=u=>{const c=u.toLowerCase();if(c.includes("workout")||c.includes("exercise")||c.includes("routine")){const v=[`Perfect! Let's create a personalized workout routine just for you! 🏋️‍♂️

Based on your profile, I'm designing a progressive 4-week program:

**Week 1-2: Foundation Building**
• 3x full-body workouts
• Focus on form and movement patterns
• 45-60 minutes per session

**Week 3-4: Intensity Boost**
• Split routines (Upper/Lower)
• Progressive overload
• Add cardio intervals

Ready to start with Day 1? I'll guide you through each exercise! 💪`,`Excellent choice! Time to get those endorphins flowing! 🔥

**Today's Workout Menu:**

🎯 **Option 1:** HIIT Cardio Blast (20 mins)
🎯 **Option 2:** Strength Circuit (30 mins)
🎯 **Option 3:** Yoga Flow (25 mins)
🎯 **Option 4:** Custom Routine

What's calling to you today? I'll provide step-by-step guidance with proper form cues and timing! Which option sounds most appealing?`,`Time to unleash your inner athlete! 🚀

I'm sensing you're ready for something challenging. How about we try my **'Metabolic Meltdown'** routine?

**The Plan:**
• 5-minute dynamic warm-up
• 4 rounds of compound movements
• Active recovery between sets
• Cool-down and stretching

This will boost your metabolism for hours post-workout! Should we jump in, or would you prefer something different?`];return v[Math.floor(Math.random()*v.length)]}if(c.includes("start")||c.includes("begin")||c.includes("ready")||c.includes("day 1"))return`🔥 **LET'S DO THIS!** 🔥

**WARM-UP PHASE** (5 minutes)

1️⃣ **Arm Circles** - 30 seconds
   • Forward circles, then backward
   • Keep shoulders relaxed

2️⃣ **Leg Swings** - 30 seconds each leg
   • Hold wall for balance
   • Front to back, then side to side

3️⃣ **Jumping Jacks** - 1 minute
   • Land softly, engage core

4️⃣ **Bodyweight Squats** - 1 minute
   • Focus on form over speed

5️⃣ **High Knees** - 1 minute
   • Drive knees up, pump arms

Ready? Type 'warmed up' when you complete this! 💪`;if(c.includes("warmed up")||c.includes("warm up done")||c.includes("finished warm"))return`🔥 **AMAZING WORK!** Now you're primed and ready! 🔥

**MAIN WORKOUT** - Circuit Training (20 minutes)

**Round 1** (3 sets, 45 seconds work / 15 seconds rest)

💪 **Exercise 1: Push-ups**
• Keep straight line from head to heels
• Lower chest to floor, push up explosively
• Modify on knees if needed

⏱️ **Ready?** Do push-ups for 45 seconds, then rest 15 seconds.

Type 'done push-ups' when you finish this set! I'll be timing you! ⏰`;if(c.includes("done push")||c.includes("finished push"))return`🎉 **CRUSHING IT!** Those push-ups looked solid! 🎉

**Exercise 2: Bodyweight Squats**
• Feet shoulder-width apart
• Lower like sitting in a chair
• Keep chest up, knees track over toes
• Drive through heels to stand

⏱️ **45 seconds of squats, GO!**

Focus on that mind-muscle connection! Type 'done squats' when complete! 🔥`;if(c.includes("done squat")||c.includes("finished squat"))return`🚀 **PHENOMENAL!** You're on fire! 🚀

**Exercise 3: Plank Hold**
• Forearms on ground, body in straight line
• Engage core, breathe steadily
• Don't let hips sag or pike up
• Think 'steel rod' from head to heels

⏱️ **Hold for 45 seconds!**

This is where mental toughness kicks in! You've got this! Type 'done plank' when finished! 💪`;if(c.includes("done plank")||c.includes("finished plank"))return`🏆 **INCREDIBLE STRENGTH!** Round 1 COMPLETE! 🏆

**Rest Break** (60 seconds)
• Walk around, shake out your muscles
• Take deep breaths
• Stay hydrated 💧

That was just Round 1 of 3! Your body is adapting and getting stronger with each rep!

**Round 2** starts in 60 seconds. Feeling good to continue? Type 'round 2' when ready! 🔥`;if(c.includes("nutrition")||c.includes("food")||c.includes("diet")||c.includes("meal")){const v=[`🍎 **FUEL YOUR FITNESS!** 🍎

Nutrition is 70% of your results! Here's your personalized nutrition game plan:

**Pre-Workout (30-60 mins before):**
• Banana + almond butter
• Oatmeal with berries
• Green tea for natural energy

**Post-Workout (within 30 mins):**
• Protein shake + fruit
• Greek yogurt with granola
• Chocolate milk (seriously!)

**Daily Targets:**
• Protein: 1g per lb bodyweight
• Water: Half your bodyweight in ounces
• 5-7 servings fruits/vegetables

What's your biggest nutrition challenge?`,`🥗 **LET'S OPTIMIZE YOUR NUTRITION!** 🥗

I'm creating your **Smart Meal Strategy**:

**The 80/20 Rule:**
• 80% whole, unprocessed foods
• 20% foods you love (balance!)

**Meal Timing Magic:**
• Eat protein with every meal
• Carbs around workouts
• Healthy fats for hormone production

**Quick Meal Ideas:**
🥙 **Breakfast:** Protein smoothie bowl
🍗 **Lunch:** Grilled chicken salad
🐟 **Dinner:** Salmon with sweet potato

Need specific recipes or meal prep tips?`];return v[Math.floor(Math.random()*v.length)]}if(c.includes("progress")||c.includes("analytics")||c.includes("result"))return`📈 **YOUR PROGRESS IS INSPIRING!** 📈

**This Week's Wins:**
✅ Consistency: 6/7 workout days
✅ Strength gains: +15% in compound lifts
✅ Endurance: Running 2 mins longer
✅ Recovery: Better sleep quality

**Key Insights:**
🎯 Your Monday workouts are strongest
🎯 Hydration improved performance by 12%
🎯 Rest days boost next-day energy

**Next Week's Focus:**
• Increase workout intensity by 5%
• Add 2 new exercises for variety
• Track protein intake more consistently

Your transformation is happening! What feels different in your body?`;if(c.includes("tired")||c.includes("can't")||c.includes("hard")||c.includes("difficult")){const v=[`💪 **I HEAR YOU, BUT I BELIEVE IN YOU!** 💪

Fatigue is just weakness leaving your body! Here's what we're going to do:

**Energy Reset Protocol:**
1. Take 5 deep breaths
2. Drink some water 💧
3. Think about WHY you started
4. Remember: You're stronger than you think

**Modified Options:**
• Drop to 30 seconds instead of 45
• Reduce intensity by 20%
• Focus on perfect form over speed

Every rep counts! Even 50% effort is 100% more than doing nothing! Ready to push through? You've got this! 🔥`,`🔥 **THIS IS WHERE CHAMPIONS ARE MADE!** 🔥

The discomfort you feel? That's your body adapting, growing stronger, becoming unstoppable!

**Remember:**
• Your future self is counting on you
• Discipline weighs ounces, regret weighs tons
• You've overcome challenges before

**Quick Energy Boost:**
• 10 jumping jacks
• Positive self-talk
• Visualize crushing your goals

You came this far - don't stop now! What would the strongest version of yourself do right now?`];return v[Math.floor(Math.random()*v.length)]}const h=[`🤖 **AI COACH ACTIVATED!** 🤖

I'm here to transform your fitness journey! I can help you with:

🏋️ **Personalized Workouts** - Custom routines
🍎 **Smart Nutrition** - Meal planning & timing
📊 **Progress Analytics** - Data-driven insights
💪 **Live Coaching** - Real-time form feedback
🎯 **Goal Setting** - SMART fitness objectives

What's your fitness goal today? Let's make it happen!`,`🚀 **READY TO LEVEL UP?** 🚀

I'm your AI fitness companion, powered by advanced algorithms and a passion for your success!

**I specialize in:**
• Creating workouts that adapt to YOU
• Nutrition strategies that actually work
• Motivation when you need it most
• Tracking progress that matters

Think of me as your pocket personal trainer! What would you like to work on first?`,`💫 **YOUR FITNESS JOURNEY STARTS NOW!** 💫

I've analyzed thousands of fitness transformations to bring you the most effective strategies!

**Today's Options:**
🎯 Start a workout routine
🎯 Plan your nutrition
🎯 Set SMART goals
🎯 Review your progress
🎯 Get motivated!

I'm here 24/7 to support, guide, and celebrate every win with you! What sounds exciting to you?`];return h[Math.floor(Math.random()*h.length)]},w=u=>{const c=u.toLowerCase();return c.includes("workout")||c.includes("exercise")||c.includes("routine")?["Start Day 1 workout","Show me HIIT routine","Upper body focus","Quick 15-min session"]:c.includes("start")||c.includes("begin")||c.includes("ready")?["I'm warmed up!","Skip to main workout","Modify for beginner","Need motivation"]:c.includes("warmed up")||c.includes("done push")||c.includes("done squat")?["Ready for next exercise","Need a break","Increase intensity","Form check please"]:c.includes("nutrition")||c.includes("food")?["Pre-workout meal ideas","Post-workout recovery","Meal prep guide","Healthy snack options"]:c.includes("progress")||c.includes("analytics")?["Show weekly summary","Compare to last month","Set new challenges","Celebrate achievements"]:c.includes("tired")||c.includes("difficult")||c.includes("hard")?["Modify exercises","Give me motivation","Quick energy boost","Different workout"]:["Start a workout","Plan my nutrition","Check my progress","I need motivation"]},p=u=>{n(u)},y=u=>{const c=`Help me with ${u.title.toLowerCase()}`;n(c),setTimeout(()=>{var h;document.querySelector("[data-send-button]")&&((h=document.querySelector("[data-send-button]"))==null||h.click())},100)};return e.jsxs("div",{className:"flex flex-col h-full max-h-[calc(100vh-200px)]",children:[e.jsx(b.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl",children:e.jsx(U,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"AI Fitness Coach"}),e.jsx("p",{className:"text-gray-400",children:"Powered by advanced ML algorithms"})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-green-400",children:"Online"})]})]})}),e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-6 border-b border-white/10",children:e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:g.map((u,c)=>{const h=u.icon;return e.jsxs(b.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>y(u),className:`p-4 rounded-2xl bg-gradient-to-r ${u.color} text-white text-left group transition-all duration-300 hover:shadow-lg`,children:[e.jsx(h,{size:24,className:"mb-2 group-hover:scale-110 transition-transform"}),e.jsx("h3",{className:"font-semibold text-sm",children:u.title}),e.jsx("p",{className:"text-xs opacity-90",children:u.description})]},c)})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[e.jsx(z,{children:t.map(u=>e.jsx(b.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:`flex ${u.type==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] ${u.type==="user"?"order-2":"order-1"}`,children:[u.type==="ai"&&e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:e.jsx(U,{size:16,className:"text-white"})}),e.jsx("span",{className:"text-sm text-gray-400 font-medium",children:"AI Coach"})]}),e.jsx("div",{className:`p-4 rounded-2xl ${u.type==="user"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"glass-morphism text-gray-100"}`,children:e.jsx("p",{className:"leading-relaxed",children:u.content})}),u.suggestions&&e.jsx(b.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-3 flex flex-wrap gap-2",children:u.suggestions.map((c,h)=>e.jsx("button",{onClick:()=>p(c),className:"px-3 py-1 text-sm bg-white/10 border border-white/20 rounded-full hover:bg-white/20 transition-colors text-gray-300",children:c},h))})]})},u.id))}),e.jsx(z,{children:o&&e.jsx(b.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.3},className:"flex justify-start",children:e.jsxs("div",{className:"max-w-[80%]",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:e.jsx(U,{size:16,className:"text-white"})}),e.jsx("span",{className:"text-sm text-gray-400 font-medium",children:"AI Coach"})]}),e.jsx(fn,{})]})})}),e.jsx("div",{ref:d})]}),e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-6 border-t border-white/10",children:e.jsxs("div",{className:"flex items-end space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{value:a,onChange:u=>n(u.target.value),onKeyPress:u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),f())},placeholder:"Ask your AI coach anything about fitness, nutrition, or your progress...",rows:1,className:"w-full px-4 py-3 pr-12 bg-white/5 border border-white/20 rounded-2xl text-white placeholder-gray-400 resize-none focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20",style:{minHeight:"48px",maxHeight:"120px"}}),e.jsxs("div",{className:"absolute right-3 bottom-3 flex items-center space-x-2",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-white transition-colors",children:e.jsx(Xa,{size:18})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-white transition-colors",children:e.jsx(Ga,{size:18})})]})]}),e.jsx(b.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:!a.trim()||r,"data-send-button":!0,className:"p-3 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl text-white disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all duration-300",children:e.jsx(en,{size:20})})]})})]})},ot=()=>{const{activeSection:t,setActiveSection:s}=Ft(),[a,n]=x.useState(t),{userProfile:r,dailyProgress:i,achievements:o,userAddress:l,getDashboardDataV2:d,isLoading:m,error:g,lastDataFetch:f}=T(),j=c=>c?`${c.slice(0,6)}...${c.slice(-4)}`:"Athlete";x.useEffect(()=>{n(t)},[t]),x.useEffect(()=>{l&&(console.log("🚀 Loading dashboard with V2 batch function (90% faster)..."),d())},[l,d]),x.useEffect(()=>{console.log("⚡ Initial dashboard load using V2 batch function..."),d()},[d]);const w=i[0]||{steps:0,calories:0,activeTime:0},p=i.slice(0,7).reduce((c,h)=>({steps:c.steps+h.steps,calories:c.calories+h.calories,activeTime:c.activeTime+h.activeTime}),{steps:0,calories:0,activeTime:0});p.steps=Math.round(p.steps/7),p.calories=Math.round(p.calories/7),p.activeTime=Math.round(p.activeTime/7);const y=[{id:"overview",label:"Overview",icon:I},{id:"record",label:"Record Progress",icon:ee},{id:"analytics",label:"Analytics",icon:ye},{id:"workouts",label:"Create Workout",icon:he},{id:"achievements",label:"Achievements",icon:W},{id:"nft",label:"NFT Collection",icon:W},{id:"social",label:"Friends",icon:V},{id:"demo-data",label:"Demo Data",icon:U},{id:"ai",label:"AI Coach",icon:U},{id:"debugger",label:"Blockchain Records",icon:I}],u=()=>{switch(a){case"debugger":return e.jsx(cn,{});case"analytics":return e.jsx("div",{className:"space-y-6",children:e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"📊 Real Blockchain Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-purple-500/20 p-6 rounded-xl border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(I,{className:"w-8 h-8 text-blue-400"}),e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Total Progress Days"})]}),e.jsx("div",{className:"text-3xl font-bold text-blue-400",children:i.length}),e.jsx("div",{className:"text-sm text-gray-400",children:"Days with recorded data"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 p-6 rounded-xl border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(W,{className:"w-8 h-8 text-green-400"}),e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Achievements"})]}),e.jsx("div",{className:"text-3xl font-bold text-green-400",children:o.length}),e.jsx("div",{className:"text-sm text-gray-400",children:"Blockchain verified"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500/20 to-red-500/20 p-6 rounded-xl border border-orange-500/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(ye,{className:"w-8 h-8 text-orange-400"}),e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Total Steps"})]}),e.jsx("div",{className:"text-3xl font-bold text-orange-400",children:i.reduce((c,h)=>c+(h.steps||0),0).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-400",children:"All time total"})]})]}),e.jsxs("div",{className:"bg-white/5 p-6 rounded-xl mb-6",children:[e.jsx("h4",{className:"text-xl font-semibold text-white mb-4",children:"📈 7-Day Averages"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:p.steps.toLocaleString()}),e.jsx("div",{className:"text-gray-400",children:"Steps/day"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-400",children:p.calories}),e.jsx("div",{className:"text-gray-400",children:"Calories/day"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:p.activeTime}),e.jsx("div",{className:"text-gray-400",children:"Minutes/day"})]})]})]}),e.jsxs("div",{className:"bg-white/5 p-6 rounded-xl mb-6",children:[e.jsx("h4",{className:"text-xl font-semibold text-white mb-4",children:"📊 Recent Progress (Last 14 Days)"}),i.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-end justify-between h-40 gap-2",children:i.slice(0,14).map((c,h)=>{const v=Math.max(...i.slice(0,14).map(P=>P.steps||0),1),k=(c.steps||0)/v*100;return e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx(b.div,{initial:{height:0},animate:{height:`${k}%`},transition:{delay:h*.1,duration:.5},className:"w-full bg-gradient-to-t from-blue-500 to-purple-500 rounded-t min-h-[4px]",title:`${c.steps||0} steps on ${c.date}`}),e.jsx("span",{className:"text-xs text-gray-400 mt-2 transform -rotate-45",children:new Date(c.date).toLocaleDateString("en",{month:"short",day:"numeric"})})]},c.date)})}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Hover over bars to see exact values"})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-400",children:"No progress data available yet."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Start recording your daily activities to see analytics!"})]})]}),e.jsxs("div",{className:"bg-white/5 p-6 rounded-xl",children:[e.jsx("h4",{className:"text-xl font-semibold text-white mb-4",children:"🏆 Recent Achievements"}),o.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.slice(0,6).map((c,h)=>e.jsxs(b.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:h*.1},className:"flex items-center gap-3 p-4 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-500/30 rounded-lg",children:[e.jsx("span",{className:"text-2xl",children:c.icon}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-white font-medium",children:c.title}),e.jsx("p",{className:"text-gray-400 text-sm",children:c.description}),e.jsxs("p",{className:"text-yellow-400 text-xs",children:["Earned: ",c.earnedDate||c.date]})]})]},c.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-400",children:"No achievements yet."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Complete fitness goals to earn blockchain-verified achievements!"})]})]})]})});case"record":return e.jsx(mn,{});case"workouts":return e.jsx(hn,{});case"social":return e.jsx(pn,{});case"demo-data":return e.jsx(xn,{});case"nft":return e.jsx("div",{className:"space-y-6",children:e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"🎨 NFT Collection"}),e.jsx(gn,{})]})});case"achievements":return e.jsx("div",{className:"space-y-6",children:e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"🏆 Your Achievements"}),o.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(c=>e.jsx(b.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-br from-purple-500/20 to-blue-500/20 p-6 rounded-xl border border-white/10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:c.icon}),e.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:c.title}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:c.description}),e.jsx("div",{className:"bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-xs font-semibold",children:"✅ EARNED"})]})},c.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),e.jsx("h3",{className:"text-white text-xl mb-2",children:"No achievements yet"}),e.jsx("p",{className:"text-gray-400",children:"Complete challenges to earn your first achievement!"})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{className:"w-6 h-6 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Total Earned"}),e.jsx("p",{className:"text-yellow-400 font-bold text-xl",children:o.length})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{className:"w-6 h-6 text-blue-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Completion Rate"}),e.jsxs("p",{className:"text-blue-400 font-bold text-xl",children:[Math.round(o.length/10*100),"%"]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-green-500/20 to-cyan-500/20 p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"w-6 h-6 text-green-400"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Current Streak"}),e.jsxs("p",{className:"text-green-400 font-bold text-xl",children:[i.length," days"]})]})]})})]})]})});case"ai":return e.jsx("div",{className:"h-full",children:e.jsx(yn,{})});default:return e.jsxs("div",{className:"space-y-6",children:[g&&e.jsx(b.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3 text-red-400",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"!"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:g}),f&&e.jsxs("p",{className:"text-red-300 text-xs mt-1",children:["Last successful fetch: ",f.toLocaleTimeString()]})]})]})}),m&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3 text-blue-400",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"font-medium",children:"Loading blockchain data..."})]})}),e.jsx(b.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"bg-gradient-to-r from-green-500 to-emerald-500 p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"⚡ V2 Performance Boost"}),e.jsx("p",{className:"text-green-100",children:"Dashboard loads 90% faster with batch functions"})]}),e.jsx("div",{className:"text-2xl font-bold",children:"90%"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(Ce,{icon:I,title:"Steps Today",value:w.steps>0?w.steps.toLocaleString():"No data",target:"10,000",progress:w.steps/1e4*100,color:"blue"}),e.jsx(Ce,{icon:De,title:"Calories Burned",value:w.calories>0?w.calories.toString():"No data",target:"500",progress:w.calories/500*100,color:"orange"}),e.jsx(Ce,{icon:he,title:"Active Time",value:w.activeTime>0?`${w.activeTime}min`:"No data",target:"60min",progress:w.activeTime/60*100,color:"green"})]}),i.length===0&&e.jsxs(b.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 p-8 rounded-xl border border-blue-500/20 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📊"}),e.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:"Welcome to Your Fitness Journey!"}),e.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:"Your dashboard shows real blockchain data. Start by recording your first progress or generate sample data to see how everything works."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(b.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n("record"),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-medium shadow-lg hover:shadow-xl transition-all",children:"📝 Record Your Progress"}),e.jsx(b.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n("demo-data"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg font-medium shadow-lg hover:shadow-xl transition-all",children:"🚀 Generate Sample Data"})]})]}),i.length>0?e.jsx(un,{data:i}):e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white/5 p-6 rounded-xl border border-white/10 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:"📈"}),e.jsx("h4",{className:"text-white font-medium mb-2",children:"No Progress Data Yet"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Your progress chart will appear here once you start recording data"})]}),i.length>0?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white/10 p-4 rounded-xl backdrop-blur-md",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(I,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Weekly Average"}),e.jsxs("p",{className:"text-blue-400 font-bold",children:[p.steps.toLocaleString()," steps"]})]})]})}),e.jsx("div",{className:"bg-white/10 p-4 rounded-xl backdrop-blur-md",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:e.jsx(De,{className:"w-5 h-5 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Avg Calories"}),e.jsxs("p",{className:"text-orange-400 font-bold",children:[p.calories," cal"]})]})]})}),e.jsx("div",{className:"bg-white/10 p-4 rounded-xl backdrop-blur-md",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:e.jsx(he,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Avg Active Time"}),e.jsxs("p",{className:"text-green-400 font-bold",children:[p.activeTime,"min"]})]})]})}),e.jsx("div",{className:"bg-white/10 p-4 rounded-xl backdrop-blur-md",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:e.jsx(W,{className:"w-5 h-5 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"Current Streak"}),e.jsxs("p",{className:"text-purple-400 font-bold",children:[i.length," days"]})]})]})})]}):e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white/5 p-6 rounded-xl border border-white/10 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:"📊"}),e.jsx("h4",{className:"text-white font-medium mb-2",children:"Weekly Statistics"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Your weekly averages and streaks will show here after recording progress"})]}),e.jsxs("div",{className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Recent Progress (Last 7 Days)"}),i.length>0?e.jsx("div",{className:"space-y-2",children:i.slice(0,7).map(c=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-300",children:c.date}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("span",{className:"text-blue-400",children:[c.steps," steps"]}),e.jsxs("span",{className:"text-orange-400",children:[c.calories," cal"]}),e.jsxs("span",{className:"text-green-400",children:[c.activeTime,"min"]})]})]},c.date))}):e.jsx("p",{className:"text-gray-400",children:"No progress data yet. Start tracking to see your journey!"})]}),e.jsxs("div",{className:"bg-white/10 p-6 rounded-xl backdrop-blur-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-white font-semibold",children:"Recent Achievements"}),e.jsx("button",{onClick:()=>n("achievements"),className:"text-purple-400 hover:text-purple-300 text-sm font-medium",children:"View All →"})]}),o.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.slice(0,4).map(c=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{className:"text-2xl",children:c.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:c.title}),e.jsx("p",{className:"text-gray-400 text-sm",children:c.description})]})]},c.id))}):e.jsx("p",{className:"text-gray-400",children:"Complete challenges to earn achievements!"})]})]})}};return e.jsxs("div",{className:"flex-1 overflow-hidden bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900",children:[e.jsx(b.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",l?j(l):(r==null?void 0:r.goals)||"Athlete","! 🚀"]}),e.jsx("p",{className:"text-purple-200 mt-1",children:m?"Loading with V2 batch function...":"Your fitness journey is blockchain-verified"})]}),e.jsxs(b.div,{initial:{scale:0},animate:{scale:1},className:"bg-gradient-to-r from-green-500 to-emerald-500 px-3 py-2 rounded-full text-sm font-bold text-white flex items-center gap-2",children:["⚡ V2 BOOST",e.jsx("span",{className:"text-white/90",children:"90% faster"})]})]}),e.jsx(dn,{})]})}),e.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:e.jsx("div",{className:"flex space-x-1 bg-black/20 rounded-xl p-1",children:y.map(c=>{const h=c.icon;return e.jsxs("button",{onClick:()=>{n(c.id),s(c.id)},className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${a===c.id?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[e.jsx(h,{size:16}),e.jsx("span",{className:"font-medium",children:c.label})]},c.id)})})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx(z,{mode:"wait",children:e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:u()},a)})})]})},bn=()=>{const{userAddress:t,disconnectWallet:s}=T(),{isDarkMode:a}=Ue(),{activeSection:n,setActiveSection:r}=Ft(),i=[{icon:qa,label:"Dashboard",id:"overview"},{icon:I,label:"Progress",id:"record"},{icon:be,label:"Achievements",id:"achievements"},{icon:U,label:"AI Coach",id:"ai"},{icon:W,label:"NFT Collection",id:"nft"},{icon:V,label:"Social",id:"social"},{icon:Fe,label:"Blockchain Records",id:"analytics"},{icon:Ba,label:"Blockchain Debugger",id:"debugger"}];return e.jsxs(b.nav,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},className:`w-80 backdrop-blur-xl border-r flex flex-col ${a?"bg-gray-900/80 border-gray-700":"bg-white/80 border-gray-200"}`,children:[e.jsx("div",{className:`p-6 border-b ${a?"border-gray-700":"border-gray-200"}`,children:e.jsxs(b.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"🏃"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"StacksFit"}),e.jsx("p",{className:`text-sm ${a?"text-gray-400":"text-gray-600"}`,children:"Blockchain Fitness"})]})]})}),e.jsxs(b.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"p-6 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-xl",children:"💪"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-semibold",children:"Fitness Warrior"}),e.jsx("p",{className:"text-gray-400 text-xs truncate",children:t?`${t.slice(0,6)}...${t.slice(-4)}`:"Loading..."})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-blue-400",children:"7"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Streak"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-purple-400",children:"12"}),e.jsx("div",{className:"text-xs text-gray-400",children:"NFTs"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-green-400",children:"85"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Level"})]})]})]}),e.jsx("div",{className:"flex-1 p-6",children:e.jsx("div",{className:"space-y-2",children:i.map((o,l)=>{const d=o.icon,m=n===o.id;return e.jsxs(b.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4+l*.1},onClick:()=>{console.log("🎯 Sidebar clicked:",o.id,"Label:",o.label),r(o.id)},className:`w-full flex items-center space-x-4 px-4 py-3 rounded-xl transition-all duration-200 group ${m?`${a?"bg-blue-600/20 text-blue-400 border border-blue-500/30":"bg-blue-100 text-blue-600 border border-blue-200"}`:`${a?"text-gray-300 hover:text-white hover:bg-white/10":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`}`,children:[e.jsx(d,{size:20,className:`transition-transform ${m?"scale-110":"group-hover:scale-110"}`}),e.jsx("span",{className:"font-medium",children:o.label}),m&&e.jsx(b.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto w-2 h-2 bg-blue-500 rounded-full"})]},o.id)})})}),e.jsxs(b.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"p-6 border-t border-white/10 space-y-2",children:[e.jsxs("button",{className:"w-full flex items-center space-x-4 px-4 py-3 rounded-xl text-gray-300 hover:text-white hover:bg-white/10 transition-all duration-200",children:[e.jsx(Re,{size:20}),e.jsx("span",{className:"font-medium",children:"Settings"})]}),e.jsxs("div",{className:"w-full px-4 py-2 rounded-xl bg-white/5 border border-white/10",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Connected Wallet"}),e.jsx("div",{className:"text-xs font-mono text-green-400 truncate",children:t?`${t.slice(0,8)}...${t.slice(-4)}`:"Not connected"})]}),e.jsxs("button",{onClick:s,className:"w-full flex items-center space-x-4 px-4 py-3 rounded-xl text-red-300 hover:text-red-400 hover:bg-red-500/20 border border-red-500/30 hover:border-red-500/50 transition-all duration-200 group",children:[e.jsx(Za,{size:20,className:"group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Disconnect Wallet"})]})]}),e.jsx("div",{className:"absolute top-20 right-4 w-2 h-2 bg-blue-500 rounded-full animate-pulse opacity-50"}),e.jsx("div",{className:"absolute top-32 right-8 w-1 h-1 bg-purple-500 rounded-full animate-pulse opacity-30"}),e.jsx("div",{className:"absolute bottom-32 right-6 w-3 h-3 bg-green-500 rounded-full animate-pulse opacity-40"})]})},vn=({isVisible:t,oldAddress:s,newAddress:a,onConfirm:n})=>{const[r,i]=x.useState(5);return x.useEffect(()=>{if(t&&r>0){const o=setTimeout(()=>{i(r-1)},1e3);return()=>clearTimeout(o)}else t&&r===0&&n()},[t,r,n]),e.jsx(z,{children:t&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-red-900/95 backdrop-blur-sm flex items-center justify-center",children:e.jsx(b.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:"bg-white dark:bg-gray-900 rounded-xl shadow-2xl p-8 max-w-md w-full mx-4 border-2 border-red-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mb-4",children:e.jsx(Me,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"🚨 Security Alert"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:"Your wallet account has changed while using the app. For your security, you will be automatically disconnected."}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 mb-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Mt,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Account Change Detected"})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Previous:"}),e.jsx("div",{className:"font-mono text-xs text-gray-900 dark:text-white bg-gray-200 dark:bg-gray-700 p-1 rounded mt-1",children:s})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Current:"}),e.jsx("div",{className:"font-mono text-xs text-gray-900 dark:text-white bg-gray-200 dark:bg-gray-700 p-1 rounded mt-1",children:a})]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[e.jsx(ze,{className:"w-5 h-5 text-red-600 animate-spin"}),e.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Auto-disconnect in ",e.jsx("strong",{className:"text-red-600",children:r})," seconds"]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{onClick:n,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Disconnect Now"})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:"This is a security measure to protect your data when wallet accounts change."})]})})})})},wn=({type:t,title:s,message:a,newAddress:n,onClose:r,autoClose:i=!0,duration:o=5e3})=>{const[l,d]=x.useState(!0);x.useEffect(()=>{if(i){const j=setTimeout(()=>{d(!1),setTimeout(()=>r==null?void 0:r(),300)},o);return()=>clearTimeout(j)}},[i,o,r]);const m=()=>{d(!1),setTimeout(()=>r==null?void 0:r(),300)},g=()=>{switch(t){case"account_change":return e.jsx(ze,{className:"w-6 h-6 text-blue-400"});case"disconnect":return e.jsx(Me,{className:"w-6 h-6 text-red-400"});case"error":return e.jsx(Me,{className:"w-6 h-6 text-yellow-400"});default:return e.jsx(Pt,{className:"w-6 h-6 text-green-400"})}},f=()=>{switch(t){case"account_change":return"from-blue-500/90 to-purple-600/90 border-blue-500/50";case"disconnect":return"from-red-500/90 to-pink-600/90 border-red-500/50";case"error":return"from-yellow-500/90 to-orange-600/90 border-yellow-500/50";default:return"from-green-500/90 to-emerald-600/90 border-green-500/50"}};return e.jsx(z,{children:l&&e.jsx(b.div,{initial:{opacity:0,x:300,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.8},transition:{type:"spring",damping:20,stiffness:300},className:"fixed top-4 right-4 z-50 max-w-md",children:e.jsx("div",{className:`
            backdrop-blur-md bg-gradient-to-r ${f()}
            rounded-xl border shadow-2xl p-4
          `,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:g()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:s}),e.jsx("p",{className:"text-white/90 text-sm leading-relaxed mb-2",children:a}),n&&e.jsxs("div",{className:"mt-2 p-2 bg-black/20 rounded-lg",children:[e.jsx("p",{className:"text-xs text-white/80 mb-1",children:"New Account:"}),e.jsxs("p",{className:"text-white font-mono text-xs break-all",children:[n.slice(0,12),"...",n.slice(-8)]})]})]}),e.jsx("button",{onClick:m,className:"flex-shrink-0 p-1 hover:bg-black/20 rounded-lg transition-colors","aria-label":"Close notification",children:e.jsx(Dt,{className:"w-4 h-4 text-white/80"})})]})})})})};function jn(){const[t,s]=x.useState([]),a=d=>{const m=Date.now().toString(),g={id:m,props:{...d,onClose:()=>n(m)}};s(f=>[...f,g])},n=d=>{s(m=>m.filter(g=>g.id!==d))};return{showAccountChange:d=>{a({type:"account_change",title:"Wallet Account Changed",message:"Your wallet account has been switched. App data updated for the new account.",newAddress:d})},showDisconnect:()=>{a({type:"disconnect",title:"Wallet Disconnected",message:"Your wallet has been disconnected. Please reconnect to continue using StacksFit.",autoClose:!1})},showError:d=>{a({type:"error",title:"Wallet Error",message:d})},NotificationContainer:()=>e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-3",children:t.map(({id:d,props:m})=>e.jsx(wn,{...m},d))})}}function Nn(){const[t,s]=x.useState(!0),[a,n]=x.useState(!1),[r,i]=x.useState(null),{isWalletConnected:o,checkAuthStatus:l}=T(),{isDarkMode:d}=Ue(),{showAccountChange:m,showDisconnect:g,NotificationContainer:f}=jn();x.useEffect(()=>{d?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark"))},[d]),x.useEffect(()=>{(async()=>{await l();const p=setTimeout(()=>{s(!1)},2e3);return()=>clearTimeout(p)})()},[l]),x.useEffect(()=>(o?(console.log("🔗 Wallet connected - Starting wallet monitoring"),de.setNotificationCallbacks({onAccountChange:m,onDisconnect:g}),de.startMonitoring(),ke.startMonitoring((w,p)=>{console.log("🚨 CRITICAL: Wallet account changed!",{newAddress:w,oldAddress:p}),i({oldAddress:p,newAddress:w}),n(!0),m("🚨 SECURITY: Account changed! Disconnecting...")})):(console.log("💔 Wallet disconnected - Stopping all monitoring"),de.stopMonitoring(),ke.stopMonitoring()),()=>{de.stopMonitoring(),ke.stopMonitoring()}),[o,m,g]);const j=()=>{console.log("🛡️ Security protocol: Force disconnecting due to account change");const{disconnectWallet:w}=T.getState();w(),n(!1),window.location.reload()};return t?e.jsx(Ra,{}):e.jsx(Bs,{children:e.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${d?"bg-gradient-to-br from-gray-900 via-slate-900 to-gray-900":"bg-gradient-to-br from-slate-100 via-blue-50 to-slate-100"}`,children:[e.jsx(z,{mode:"wait",children:o?e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"flex h-screen",children:[e.jsx(bn,{}),e.jsx("main",{className:"flex-1 overflow-hidden",children:e.jsxs(Ws,{children:[e.jsx(ue,{path:"/",element:e.jsx(ot,{})}),e.jsx(ue,{path:"/dashboard",element:e.jsx(ot,{})}),e.jsx(ue,{path:"*",element:e.jsx(Rs,{to:"/dashboard",replace:!0})})]})})]},"dashboard"):e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:e.jsx(ln,{})},"wallet")}),e.jsx(f,{}),e.jsx(vn,{isVisible:a,oldAddress:(r==null?void 0:r.oldAddress)||"",newAddress:(r==null?void 0:r.newAddress)||"",onConfirm:j}),e.jsx(Aa,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(0, 0, 0, 0.8)",color:"#fff",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)"}}})]})})}Gt.createRoot(document.getElementById("root")).render(e.jsx(zt.StrictMode,{children:e.jsx(Nn,{})}));
//# sourceMappingURL=index-46b7f153.js.map
